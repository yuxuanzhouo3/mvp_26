<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>mornGPT - Free AI Client</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }

        .header p {
            font-size: 1.1rem;
            opacity: 0.9;
        }

        .main-content {
            padding: 40px;
        }

        .tabs {
            display: flex;
            margin-bottom: 30px;
            border-bottom: 2px solid #f0f0f0;
        }

        .tab {
            padding: 15px 30px;
            cursor: pointer;
            border-bottom: 3px solid transparent;
            transition: all 0.3s ease;
            font-weight: 500;
        }

        .tab.active {
            border-bottom-color: #667eea;
            color: #667eea;
        }

        .tab:hover {
            background: #f8f9fa;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #333;
        }

        .form-group input,
        .form-group textarea,
        .form-group select {
            width: 100%;
            padding: 12px;
            border: 2px solid #e1e5e9;
            border-radius: 8px;
            font-size: 14px;
            transition: border-color 0.3s ease;
        }

        .form-group input:focus,
        .form-group textarea:focus,
        .form-group select:focus {
            outline: none;
            border-color: #667eea;
        }

        .form-group textarea {
            min-height: 120px;
            resize: vertical;
        }

        .btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            transition: transform 0.2s ease;
        }

        .btn:hover {
            transform: translateY(-2px);
        }

        .btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        .response-container {
            margin-top: 30px;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 12px;
            border-left: 4px solid #667eea;
        }

        .response-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 1px solid #e1e5e9;
        }

        .response-stats {
            display: flex;
            gap: 20px;
            font-size: 14px;
            color: #666;
        }
        
        .auto-config {
            color: #666;
            font-style: italic;
            font-size: 11px;
            margin-top: 4px;
            display: block;
        }
        
        .auto-config-info {
            margin-top: 20px;
        }
        
        .info-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }
        
        .info-card h4 {
            margin: 0 0 10px 0;
            font-size: 16px;
        }
        
        .info-card p {
            margin: 5px 0;
            font-size: 14px;
            opacity: 0.9;
        }
        
        .info-card strong {
            color: #fff;
        }
        
        .model-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 15px;
        }
        
        .model-category {
            background: white;
            border: 1px solid #e1e5e9;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        .model-category h4 {
            margin: 0 0 15px 0;
            color: #333;
            font-size: 16px;
            border-bottom: 2px solid #667eea;
            padding-bottom: 8px;
        }
        
        .model-options {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }
        
        .model-option {
            display: flex;
            align-items: center;
            padding: 12px;
            border: 2px solid #f0f0f0;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s ease;
            position: relative;
        }
        
        .model-option:hover {
            border-color: #667eea;
            background: #f8f9ff;
        }
        
        .model-option input[type="radio"] {
            margin-right: 12px;
            transform: scale(1.2);
        }
        
        .model-option input[type="radio"]:checked + .model-name {
            color: #667eea;
            font-weight: 600;
        }
        
        .model-option:has(input[type="radio"]:checked) {
            border-color: #667eea;
            background: #f0f4ff;
        }
        
        .model-name {
            font-weight: 500;
            color: #333;
            margin-right: 8px;
        }
        
        .model-desc {
            color: #666;
            font-size: 12px;
            flex-grow: 1;
        }
        
        .cost-badge {
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 10px;
            font-weight: 600;
            text-transform: uppercase;
        }
        
        .cost-badge.free {
            background: #e8f5e8;
            color: #2d5a2d;
        }
        
        .cost-badge.cheap {
            background: #fff3cd;
            color: #856404;
        }
        
        .cost-badge.paid {
            background: #f8d7da;
            color: #721c24;
        }

        .response-content {
            background: white;
            padding: 20px;
            border-radius: 8px;
            border: 1px solid #e1e5e9;
            white-space: pre-wrap;
            font-family: 'Courier New', monospace;
            line-height: 1.6;
        }

        .loading {
            text-align: center;
            padding: 40px;
            color: #666;
        }

        .spinner {
            border: 3px solid #f3f3f3;
            border-top: 3px solid #667eea;
            border-radius: 50%;
            width: 30px;
            height: 30px;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .error {
            background: #fee;
            color: #c33;
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid #c33;
            margin-top: 20px;
        }

        .success {
            background: #efe;
            color: #363;
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid #363;
            margin-top: 20px;
        }

        .grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-top: 30px;
        }

        .card {
            background: white;
            padding: 25px;
            border-radius: 12px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            border: 1px solid #e1e5e9;
        }

        .card h3 {
            color: #333;
            margin-bottom: 15px;
            font-size: 1.2rem;
        }

        .model-list {
            list-style: none;
        }

        .model-list li {
            padding: 8px 0;
            border-bottom: 1px solid #f0f0f0;
            display: flex;
            justify-content: space-between;
        }

        .model-list li:last-child {
            border-bottom: none;
        }

        .cost-badge {
            background: #667eea;
            color: white;
            padding: 2px 8px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 600;
        }

        .free-badge {
            background: #28a745;
        }

        /* Model Categories */
        .model-categories {
            margin-bottom: 30px;
        }

        .category-tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .category-tab {
            padding: 10px 20px;
            border: 2px solid #e1e5e9;
            background: white;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 500;
        }

        .category-tab.active {
            border-color: #667eea;
            background: #667eea;
            color: white;
        }

        .category-tab:hover {
            border-color: #667eea;
            background: #f8f9fa;
        }

        .category-content {
            display: none;
        }

        .category-content.active {
            display: block;
        }

        /* Model Items */
        .model-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px;
            border: 1px solid #e1e5e9;
            border-radius: 8px;
            margin-bottom: 10px;
            transition: all 0.3s ease;
        }

        .model-item:hover {
            border-color: #667eea;
            box-shadow: 0 2px 8px rgba(102, 126, 234, 0.1);
        }

        .model-info {
            flex: 1;
        }

        .model-name {
            display: block;
            font-weight: 600;
            color: #333;
            margin-bottom: 4px;
        }

        .model-desc {
            display: block;
            font-size: 14px;
            color: #666;
        }

        .model-actions {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .test-btn {
            background: #667eea;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        .test-btn:hover {
            background: #5a6fd8;
            transform: translateY(-1px);
        }

        .test-btn:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: none;
        }

        /* Model Stats */
        .model-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: white;
            padding: 20px;
            border-radius: 12px;
            text-align: center;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            border: 1px solid #e1e5e9;
        }

        .stat-card h4 {
            color: #666;
            margin-bottom: 10px;
            font-size: 14px;
        }

        .stat-number {
            font-size: 2rem;
            font-weight: bold;
            color: #667eea;
        }

        /* All Models Grid */
        .all-models-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
        }

        .model-card {
            background: white;
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            border: 1px solid #e1e5e9;
            transition: all 0.3s ease;
        }

        .model-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 20px rgba(0,0,0,0.15);
        }

        .model-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        .model-header h4 {
            margin: 0;
            color: #333;
            font-size: 1.1rem;
        }

        .model-card p {
            color: #666;
            margin-bottom: 15px;
            font-size: 14px;
        }

        .model-meta {
            display: flex;
            justify-content: space-between;
            margin-bottom: 15px;
            font-size: 12px;
            color: #888;
        }

        .model-card .test-btn {
            width: 100%;
            padding: 10px;
        }

        /* Test Results */
        .test-results {
            margin-top: 30px;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 12px;
            border-left: 4px solid #667eea;
        }

        .test-result-item {
            background: white;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 15px;
            border: 1px solid #e1e5e9;
        }

        .test-result-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        .test-result-model {
            font-weight: 600;
            color: #333;
        }

        .test-result-status {
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 600;
        }

        .test-result-status.success {
            background: #d4edda;
            color: #155724;
        }

        .test-result-status.error {
            background: #f8d7da;
            color: #721c24;
        }

        .test-result-content {
            background: #f8f9fa;
            padding: 10px;
            border-radius: 6px;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            white-space: pre-wrap;
            max-height: 200px;
            overflow-y: auto;
        }

        .test-result-meta {
            display: flex;
            gap: 20px;
            margin-top: 10px;
            font-size: 12px;
            color: #666;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ü§ñ mornGPT</h1>
            <p>Multi-Module AI System with Free AI Client Integration</p>
        </div>

        <div class="main-content">
            <div class="tabs">
                <div class="tab active" onclick="switchTab('morngpt')">mornGPT</div>
                <div class="tab" onclick="switchTab('models')">Models</div>
            </div>

            <!-- mornGPT Tab -->
            <div id="morngpt" class="tab-content active">
                <h2>mornGPT - Multi-Module AI System</h2>
                <form id="morngptForm">
                    <div class="form-group">
                        <label for="moduleSelect">Select mornGPT Module:</label>
                        <select id="moduleSelect" required>
                            <option value="">Choose a module...</option>
                            <option value="h">Multi-GPT Prompts (H1-H9)</option>
                            <option value="q">AI Teacher/Coach (Q1-Q9)</option>
                            <option value="c">AI Coder (C1-C9)</option>
                            <option value="w">Content Generation (W1-W9)</option>
                            <option value="d">Content Detection (D1-D9)</option>
                            <option value="p">Person Search & Matching (P1-P9)</option>
                            <option value="b">Interview/Job (B1-B9)</option>
                            <option value="e">Medical Advice (E1-E9)</option>
                            <option value="a">Growth Advisory (A1-A9)</option>
                            <option value="s">Product Search (S1-S9)</option>
                            <option value="u">Restaurant/Food (U1-U9)</option>
                            <option value="t">Personalized Clothing (T1-T9)</option>
                            <option value="o">Personalized Housing (O1-O9)</option>
                            <option value="r">Personalized Traveling (R1-R9)</option>
                            <option value="z">Anti-AI Protection (Z1-Z9)</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="submoduleSelect">Select Submodule (1-9):</label>
                        <select id="submoduleSelect" required>
                            <option value="">Choose submodule...</option>
                            <option value="1">1 - Basic</option>
                            <option value="2">2 - Standard</option>
                            <option value="3">3 - Advanced</option>
                            <option value="4">4 - Expert</option>
                            <option value="5">5 - Professional</option>
                            <option value="6">6 - Enterprise</option>
                            <option value="7">7 - Premium</option>
                            <option value="8">8 - Elite</option>
                            <option value="9">9 - Ultimate</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="morngptPrompt">Prompt:</label>
                        <textarea id="morngptPrompt" placeholder="Enter your prompt here..." required></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label for="modelSelect">Select AI Model:</label>
                        <div class="model-grid">
                            <div class="model-category">
                                <h4>üÜì Free Local Models</h4>
                                <div class="model-options">
                                    <label class="model-option">
                                        <input type="radio" name="selectedModel" value="ollama/llama3.1:8b" checked>
                                        <span class="model-name">Llama 3.1 (8B)</span>
                                        <span class="model-desc">Meta's latest open model</span>
                                        <span class="cost-badge free">FREE</span>
                                    </label>
                                    <label class="model-option">
                                        <input type="radio" name="selectedModel" value="ollama/mistral:7b">
                                        <span class="model-name">Mistral 7B</span>
                                        <span class="model-desc">Fast and efficient 7B model</span>
                                        <span class="cost-badge free">FREE</span>
                                    </label>
                                    <label class="model-option">
                                        <input type="radio" name="selectedModel" value="ollama/codellama:7b">
                                        <span class="model-name">CodeLlama 7B</span>
                                        <span class="model-desc">Specialized for code generation</span>
                                        <span class="cost-badge free">FREE</span>
                                    </label>
                                    <label class="model-option">
                                        <input type="radio" name="selectedModel" value="ollama/phi3:mini">
                                        <span class="model-name">Phi-3 Mini</span>
                                        <span class="model-desc">Microsoft's efficient 3.8B model</span>
                                        <span class="cost-badge free">FREE</span>
                                    </label>
                                </div>
                            </div>
                            
                            <div class="model-category">
                                <h4>üÜì Free API Models</h4>
                                <div class="model-options">
                                    <label class="model-option">
                                        <input type="radio" name="selectedModel" value="mistralai/Mistral-7B-Instruct-v0.2">
                                        <span class="model-name">Mistral 7B Instruct</span>
                                        <span class="model-desc">Hugging Face hosted model</span>
                                        <span class="cost-badge free">FREE</span>
                                    </label>
                                    <label class="model-option">
                                        <input type="radio" name="selectedModel" value="meta-llama/Llama-2-7b-chat-hf">
                                        <span class="model-name">Llama 2 7B Chat</span>
                                        <span class="model-desc">Meta's chat-optimized model</span>
                                        <span class="cost-badge free">FREE</span>
                                    </label>
                                    <label class="model-option">
                                        <input type="radio" name="selectedModel" value="Salesforce/codegen-350M-mono">
                                        <span class="model-name">CodeGen 350M</span>
                                        <span class="model-desc">Lightweight code generation</span>
                                        <span class="cost-badge free">FREE</span>
                                    </label>
                                </div>
                            </div>
                            
                            <div class="model-category">
                                <h4>üí∞ Ultra-Cheap Models</h4>
                                <div class="model-options">
                                    <label class="model-option">
                                        <input type="radio" name="selectedModel" value="gemini-1.5-flash">
                                        <span class="model-name">Gemini 1.5 Flash</span>
                                        <span class="model-desc">Google's fastest model</span>
                                        <span class="cost-badge cheap">$0.000075/1K</span>
                                    </label>
                                    <label class="model-option">
                                        <input type="radio" name="selectedModel" value="claude-3-5-haiku-20241022">
                                        <span class="model-name">Claude 3.5 Haiku</span>
                                        <span class="model-desc">Anthropic's efficient model</span>
                                        <span class="cost-badge cheap">$0.00025/1K</span>
                                    </label>
                                    <label class="model-option">
                                        <input type="radio" name="selectedModel" value="command-r">
                                        <span class="model-name">Cohere Command R</span>
                                        <span class="model-desc">Cohere's command model</span>
                                        <span class="cost-badge cheap">$0.0005/1K</span>
                                    </label>
                                </div>
                            </div>
                            
                            <div class="model-category">
                                <h4>üí∏ Cheap Models</h4>
                                <div class="model-options">
                                    <label class="model-option">
                                        <input type="radio" name="selectedModel" value="mistral-medium">
                                        <span class="model-name">Mistral Medium</span>
                                        <span class="model-desc">Mistral's balanced model</span>
                                        <span class="cost-badge paid">$0.0024/1K</span>
                                    </label>
                                    <label class="model-option">
                                        <input type="radio" name="selectedModel" value="gpt-3.5-turbo">
                                        <span class="model-name">GPT-3.5 Turbo</span>
                                        <span class="model-desc">OpenAI's reliable model</span>
                                        <span class="cost-badge paid">$0.0005/1K</span>
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="grid">
                        <div class="form-group">
                            <label for="morngptMaxTokens">Max Tokens:</label>
                            <input type="number" id="morngptMaxTokens" value="1000" min="1" max="4000">
                        </div>
                        
                        <div class="form-group">
                            <label for="morngptTemperature">Temperature:</label>
                            <input type="range" id="morngptTemperature" min="0" max="1" step="0.1" value="0.7">
                            <span id="morngptTempValue">0.7</span>
                        </div>
                    </div>
                    
                    <div class="auto-config-info">
                        <div class="info-card">
                            <h4>ü§ñ mornGPT Configuration</h4>
                            <p>Select your mornGPT module and preferred AI model. Parameters can be adjusted manually or use auto-configuration.</p>
                        </div>
                    </div>
                    
                    <button type="submit" class="btn">Generate Response</button>
                </form>
                
                <div id="morngptResponse" class="response-container" style="display: none;">
                    <div class="response-header">
                        <h3>mornGPT Response</h3>
                        <div class="response-stats">
                            <span id="morngptProvider"></span>
                            <span id="morngptCost"></span>
                            <span id="morngptTime"></span>
                        </div>
                    </div>
                    <div id="morngptContent" class="response-content"></div>
                </div>
            </div>

            <!-- Models Tab -->
            <div id="models" class="tab-content">
                <h2>All Available AI Models</h2>
                
                <!-- Model Categories -->
                <div class="model-categories">
                    <div class="category-tabs">
                        <button class="category-tab active" onclick="switchCategory('free')">üÜì Free APIs</button>
                        <button class="category-tab" onclick="switchCategory('ultra-cheap')">üí∞ Ultra-Cheap</button>
                        <button class="category-tab" onclick="switchCategory('cheap')">üí∏ Cheap</button>
                        <button class="category-tab" onclick="switchCategory('popular')">‚≠ê Popular</button>
                        <button class="category-tab" onclick="switchCategory('all')">üìä All Models</button>
                    </div>
                </div>

                <!-- Free APIs Category -->
                <div id="free" class="category-content active">
                    <div class="grid">
                        <div class="card">
                            <h3>üÜì Free Local Models (Ollama)</h3>
                            <ul class="model-list">
                                <li class="model-item" data-model="ollama/llama3.1:8b" data-provider="ollama" data-cost="0">
                                    <div class="model-info">
                                        <span class="model-name">Llama 3.1 (8B)</span>
                                        <span class="model-desc">Meta's latest open model</span>
                                    </div>
                                    <div class="model-actions">
                                        <span class="cost-badge free-badge">FREE</span>
                                        <button class="test-btn" onclick="testModel('ollama/llama3.1:8b', 'ollama')">Test</button>
                                    </div>
                                </li>
                                <li class="model-item" data-model="ollama/mistral:7b" data-provider="ollama" data-cost="0">
                                    <div class="model-info">
                                        <span class="model-name">Mistral 7B</span>
                                        <span class="model-desc">Fast and efficient 7B model</span>
                                    </div>
                                    <div class="model-actions">
                                        <span class="cost-badge free-badge">FREE</span>
                                        <button class="test-btn" onclick="testModel('ollama/mistral:7b', 'ollama')">Test</button>
                                    </div>
                                </li>
                                <li class="model-item" data-model="ollama/codellama:7b" data-provider="ollama" data-cost="0">
                                    <div class="model-info">
                                        <span class="model-name">CodeLlama 7B</span>
                                        <span class="model-desc">Specialized for code generation</span>
                                    </div>
                                    <div class="model-actions">
                                        <span class="cost-badge free-badge">FREE</span>
                                        <button class="test-btn" onclick="testModel('ollama/codellama:7b', 'ollama')">Test</button>
                                    </div>
                                </li>
                                <li class="model-item" data-model="ollama/phi3:mini" data-provider="ollama" data-cost="0">
                                    <div class="model-info">
                                        <span class="model-name">Phi-3 Mini</span>
                                        <span class="model-desc">Microsoft's efficient 3.8B model</span>
                                    </div>
                                    <div class="model-actions">
                                        <span class="cost-badge free-badge">FREE</span>
                                        <button class="test-btn" onclick="testModel('ollama/phi3:mini', 'ollama')">Test</button>
                                    </div>
                                </li>
                            </ul>
                        </div>
                        
                        <div class="card">
                            <h3>üÜì Free API Models (Hugging Face)</h3>
                            <ul class="model-list">
                                <li class="model-item" data-model="mistralai/Mistral-7B-Instruct-v0.2" data-provider="huggingface" data-cost="0">
                                    <div class="model-info">
                                        <span class="model-name">Mistral 7B Instruct</span>
                                        <span class="model-desc">Instruction-tuned Mistral model</span>
                                    </div>
                                    <div class="model-actions">
                                        <span class="cost-badge free-badge">FREE</span>
                                        <button class="test-btn" onclick="testModel('mistralai/Mistral-7B-Instruct-v0.2', 'huggingface')">Test</button>
                                    </div>
                                </li>
                                <li class="model-item" data-model="meta-llama/Llama-2-7b-chat-hf" data-provider="huggingface" data-cost="0">
                                    <div class="model-info">
                                        <span class="model-name">Llama 2 7B Chat</span>
                                        <span class="model-desc">Chat-optimized Llama 2 model</span>
                                    </div>
                                    <div class="model-actions">
                                        <span class="cost-badge free-badge">FREE</span>
                                        <button class="test-btn" onclick="testModel('meta-llama/Llama-2-7b-chat-hf', 'huggingface')">Test</button>
                                    </div>
                                </li>
                                <li class="model-item" data-model="Salesforce/codegen-350M-mono" data-provider="huggingface" data-cost="0">
                                    <div class="model-info">
                                        <span class="model-name">CodeGen 350M</span>
                                        <span class="model-desc">Lightweight code generation</span>
                                    </div>
                                    <div class="model-actions">
                                        <span class="cost-badge free-badge">FREE</span>
                                        <button class="test-btn" onclick="testModel('Salesforce/codegen-350M-mono', 'huggingface')">Test</button>
                                    </div>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- Ultra-Cheap Category -->
                <div id="ultra-cheap" class="category-content">
                    <div class="grid">
                        <div class="card">
                            <h3>üí∞ Ultra-Cheap Commercial APIs</h3>
                            <ul class="model-list">
                                <li class="model-item" data-model="gemini-1.5-flash" data-provider="google" data-cost="0.000075">
                                    <div class="model-info">
                                        <span class="model-name">Gemini 1.5 Flash</span>
                                        <span class="model-desc">Google's fastest and cheapest model</span>
                                    </div>
                                    <div class="model-actions">
                                        <span class="cost-badge">$0.000075/1K</span>
                                        <button class="test-btn" onclick="testModel('gemini-1.5-flash', 'google')">Test</button>
                                    </div>
                                </li>
                                <li class="model-item" data-model="claude-3-5-haiku-20241022" data-provider="anthropic" data-cost="0.00025">
                                    <div class="model-info">
                                        <span class="model-name">Claude 3.5 Haiku</span>
                                        <span class="model-desc">Anthropic's fastest Claude model</span>
                                    </div>
                                    <div class="model-actions">
                                        <span class="cost-badge">$0.00025/1K</span>
                                        <button class="test-btn" onclick="testModel('claude-3-5-haiku-20241022', 'anthropic')">Test</button>
                                    </div>
                                </li>
                                <li class="model-item" data-model="command-r" data-provider="cohere" data-cost="0.0005">
                                    <div class="model-info">
                                        <span class="model-name">Cohere Command R</span>
                                        <span class="model-desc">Cohere's efficient command model</span>
                                    </div>
                                    <div class="model-actions">
                                        <span class="cost-badge">$0.0005/1K</span>
                                        <button class="test-btn" onclick="testModel('command-r', 'cohere')">Test</button>
                                    </div>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- Cheap Category -->
                <div id="cheap" class="category-content">
                    <div class="grid">
                        <div class="card">
                            <h3>üí∏ Cheap Commercial APIs</h3>
                            <ul class="model-list">
                                <li class="model-item" data-model="mistral-medium" data-provider="mistral" data-cost="0.0024">
                                    <div class="model-info">
                                        <span class="model-name">Mistral Medium</span>
                                        <span class="model-desc">Mistral's balanced performance model</span>
                                    </div>
                                    <div class="model-actions">
                                        <span class="cost-badge">$0.0024/1K</span>
                                        <button class="test-btn" onclick="testModel('mistral-medium', 'mistral')">Test</button>
                                    </div>
                                </li>
                                <li class="model-item" data-model="gpt-3.5-turbo" data-provider="openai" data-cost="0.0005">
                                    <div class="model-info">
                                        <span class="model-name">GPT-3.5 Turbo</span>
                                        <span class="model-desc">OpenAI's reliable workhorse</span>
                                    </div>
                                    <div class="model-actions">
                                        <span class="cost-badge">$0.0005/1K</span>
                                        <button class="test-btn" onclick="testModel('gpt-3.5-turbo', 'openai')">Test</button>
                                    </div>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- Popular Category -->
                <div id="popular" class="category-content">
                    <div class="grid">
                        <div class="card">
                            <h3>‚≠ê Most Popular Models</h3>
                            <ul class="model-list">
                                <li class="model-item" data-model="ollama/llama3.1:8b" data-provider="ollama" data-cost="0">
                                    <div class="model-info">
                                        <span class="model-name">Llama 3.1 (8B) - FREE</span>
                                        <span class="model-desc">Most popular free local model</span>
                                    </div>
                                    <div class="model-actions">
                                        <span class="cost-badge free-badge">FREE</span>
                                        <button class="test-btn" onclick="testModel('ollama/llama3.1:8b', 'ollama')">Test</button>
                                    </div>
                                </li>
                                <li class="model-item" data-model="gemini-1.5-flash" data-provider="google" data-cost="0.000075">
                                    <div class="model-info">
                                        <span class="model-name">Gemini 1.5 Flash - CHEAPEST</span>
                                        <span class="model-desc">World's cheapest commercial API</span>
                                    </div>
                                    <div class="model-actions">
                                        <span class="cost-badge">$0.000075/1K</span>
                                        <button class="test-btn" onclick="testModel('gemini-1.5-flash', 'google')">Test</button>
                                    </div>
                                </li>
                                <li class="model-item" data-model="claude-3-5-haiku-20241022" data-provider="anthropic" data-cost="0.00025">
                                    <div class="model-info">
                                        <span class="model-name">Claude 3.5 Haiku - BEST VALUE</span>
                                        <span class="model-desc">Best quality-to-cost ratio</span>
                                    </div>
                                    <div class="model-actions">
                                        <span class="cost-badge">$0.00025/1K</span>
                                        <button class="test-btn" onclick="testModel('claude-3-5-haiku-20241022', 'anthropic')">Test</button>
                                    </div>
                                </li>
                                <li class="model-item" data-model="gpt-3.5-turbo" data-provider="openai" data-cost="0.0005">
                                    <div class="model-info">
                                        <span class="model-name">GPT-3.5 Turbo - RELIABLE</span>
                                        <span class="model-desc">Most reliable commercial API</span>
                                    </div>
                                    <div class="model-actions">
                                        <span class="cost-badge">$0.0005/1K</span>
                                        <button class="test-btn" onclick="testModel('gpt-3.5-turbo', 'openai')">Test</button>
                                    </div>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- All Models Category -->
                <div id="all" class="category-content">
                    <div class="model-stats">
                        <div class="stat-card">
                            <h4>Total Models</h4>
                            <span class="stat-number">12</span>
                        </div>
                        <div class="stat-card">
                            <h4>Free Models</h4>
                            <span class="stat-number">7</span>
                        </div>
                        <div class="stat-card">
                            <h4>Paid Models</h4>
                            <span class="stat-number">5</span>
                        </div>
                        <div class="stat-card">
                            <h4>Providers</h4>
                            <span class="stat-number">6</span>
                        </div>
                    </div>
                    
                    <div class="all-models-grid">
                        <div class="model-card" data-model="ollama/llama3.1:8b" data-provider="ollama" data-cost="0">
                            <div class="model-header">
                                <h4>Llama 3.1 (8B)</h4>
                                <span class="cost-badge free-badge">FREE</span>
                            </div>
                            <p>Meta's latest open model</p>
                            <div class="model-meta">
                                <span>Provider: Ollama</span>
                                <span>Type: Local</span>
                            </div>
                            <button class="test-btn" onclick="testModel('ollama/llama3.1:8b', 'ollama')">Test Model</button>
                        </div>
                        
                        <div class="model-card" data-model="ollama/mistral:7b" data-provider="ollama" data-cost="0">
                            <div class="model-header">
                                <h4>Mistral 7B</h4>
                                <span class="cost-badge free-badge">FREE</span>
                            </div>
                            <p>Fast and efficient 7B model</p>
                            <div class="model-meta">
                                <span>Provider: Ollama</span>
                                <span>Type: Local</span>
                            </div>
                            <button class="test-btn" onclick="testModel('ollama/mistral:7b', 'ollama')">Test Model</button>
                        </div>
                        
                        <div class="model-card" data-model="ollama/codellama:7b" data-provider="ollama" data-cost="0">
                            <div class="model-header">
                                <h4>CodeLlama 7B</h4>
                                <span class="cost-badge free-badge">FREE</span>
                            </div>
                            <p>Specialized for code generation</p>
                            <div class="model-meta">
                                <span>Provider: Ollama</span>
                                <span>Type: Local</span>
                            </div>
                            <button class="test-btn" onclick="testModel('ollama/codellama:7b', 'ollama')">Test Model</button>
                        </div>
                        
                        <div class="model-card" data-model="ollama/phi3:mini" data-provider="ollama" data-cost="0">
                            <div class="model-header">
                                <h4>Phi-3 Mini</h4>
                                <span class="cost-badge free-badge">FREE</span>
                            </div>
                            <p>Microsoft's efficient 3.8B model</p>
                            <div class="model-meta">
                                <span>Provider: Ollama</span>
                                <span>Type: Local</span>
                            </div>
                            <button class="test-btn" onclick="testModel('ollama/phi3:mini', 'ollama')">Test Model</button>
                        </div>
                        
                        <div class="model-card" data-model="mistralai/Mistral-7B-Instruct-v0.2" data-provider="huggingface" data-cost="0">
                            <div class="model-header">
                                <h4>Mistral 7B Instruct</h4>
                                <span class="cost-badge free-badge">FREE</span>
                            </div>
                            <p>Instruction-tuned Mistral model</p>
                            <div class="model-meta">
                                <span>Provider: Hugging Face</span>
                                <span>Type: API</span>
                            </div>
                            <button class="test-btn" onclick="testModel('mistralai/Mistral-7B-Instruct-v0.2', 'huggingface')">Test Model</button>
                        </div>
                        
                        <div class="model-card" data-model="meta-llama/Llama-2-7b-chat-hf" data-provider="huggingface" data-cost="0">
                            <div class="model-header">
                                <h4>Llama 2 7B Chat</h4>
                                <span class="cost-badge free-badge">FREE</span>
                            </div>
                            <p>Chat-optimized Llama 2 model</p>
                            <div class="model-meta">
                                <span>Provider: Hugging Face</span>
                                <span>Type: API</span>
                            </div>
                            <button class="test-btn" onclick="testModel('meta-llama/Llama-2-7b-chat-hf', 'huggingface')">Test Model</button>
                        </div>
                        
                        <div class="model-card" data-model="Salesforce/codegen-350M-mono" data-provider="huggingface" data-cost="0">
                            <div class="model-header">
                                <h4>CodeGen 350M</h4>
                                <span class="cost-badge free-badge">FREE</span>
                            </div>
                            <p>Lightweight code generation</p>
                            <div class="model-meta">
                                <span>Provider: Hugging Face</span>
                                <span>Type: API</span>
                            </div>
                            <button class="test-btn" onclick="testModel('Salesforce/codegen-350M-mono', 'huggingface')">Test Model</button>
                        </div>
                        
                        <div class="model-card" data-model="gemini-1.5-flash" data-provider="google" data-cost="0.000075">
                            <div class="model-header">
                                <h4>Gemini 1.5 Flash</h4>
                                <span class="cost-badge">$0.000075/1K</span>
                            </div>
                            <p>Google's fastest and cheapest model</p>
                            <div class="model-meta">
                                <span>Provider: Google</span>
                                <span>Type: API</span>
                            </div>
                            <button class="test-btn" onclick="testModel('gemini-1.5-flash', 'google')">Test Model</button>
                        </div>
                        
                        <div class="model-card" data-model="claude-3-5-haiku-20241022" data-provider="anthropic" data-cost="0.00025">
                            <div class="model-header">
                                <h4>Claude 3.5 Haiku</h4>
                                <span class="cost-badge">$0.00025/1K</span>
                            </div>
                            <p>Anthropic's fastest Claude model</p>
                            <div class="model-meta">
                                <span>Provider: Anthropic</span>
                                <span>Type: API</span>
                            </div>
                            <button class="test-btn" onclick="testModel('claude-3-5-haiku-20241022', 'anthropic')">Test Model</button>
                        </div>
                        
                        <div class="model-card" data-model="command-r" data-provider="cohere" data-cost="0.0005">
                            <div class="model-header">
                                <h4>Cohere Command R</h4>
                                <span class="cost-badge">$0.0005/1K</span>
                            </div>
                            <p>Cohere's efficient command model</p>
                            <div class="model-meta">
                                <span>Provider: Cohere</span>
                                <span>Type: API</span>
                            </div>
                            <button class="test-btn" onclick="testModel('command-r', 'cohere')">Test Model</button>
                        </div>
                        
                        <div class="model-card" data-model="mistral-medium" data-provider="mistral" data-cost="0.0024">
                            <div class="model-header">
                                <h4>Mistral Medium</h4>
                                <span class="cost-badge">$0.0024/1K</span>
                            </div>
                            <p>Mistral's balanced performance model</p>
                            <div class="model-meta">
                                <span>Provider: Mistral</span>
                                <span>Type: API</span>
                            </div>
                            <button class="test-btn" onclick="testModel('mistral-medium', 'mistral')">Test Model</button>
                        </div>
                        
                        <div class="model-card" data-model="gpt-3.5-turbo" data-provider="openai" data-cost="0.0005">
                            <div class="model-header">
                                <h4>GPT-3.5 Turbo</h4>
                                <span class="cost-badge">$0.0005/1K</span>
                            </div>
                            <p>OpenAI's reliable workhorse</p>
                            <div class="model-meta">
                                <span>Provider: OpenAI</span>
                                <span>Type: API</span>
                            </div>
                            <button class="test-btn" onclick="testModel('gpt-3.5-turbo', 'openai')">Test Model</button>
                        </div>
                    </div>
                </div>
                
                <!-- Model Actions -->
                <div class="model-actions-bar" style="margin: 30px 0; padding: 20px; background: #f8f9fa; border-radius: 12px;">
                    <h3>Model Testing Tools</h3>
                    <div style="display: flex; gap: 15px; flex-wrap: wrap; margin-top: 15px;">
                        <button class="btn" onclick="quickTest()">üöÄ Quick Test</button>
                        <button class="btn" onclick="testAllModels('free')">üß™ Test All Free Models</button>
                        <button class="btn" onclick="testAllModels('ultra-cheap')">üß™ Test All Ultra-Cheap Models</button>
                        <button class="btn" onclick="testAllModels('cheap')">üß™ Test All Cheap Models</button>
                        <button class="btn" onclick="testAllModels('popular')">üß™ Test All Popular Models</button>
                        <button class="btn" onclick="clearTestResults()" style="background: #dc3545;">üóëÔ∏è Clear Results</button>
                    </div>
                </div>

                <!-- Model Test Results -->
                <div id="testResults" class="test-results" style="display: none;">
                    <h3>Model Test Results</h3>
                    <div id="testResultsContent"></div>
                </div>
                
                <div class="success" style="margin-top: 30px;">
                    <strong>üí° Cost Savings:</strong> Using these models can save you 90-95% compared to GPT-4!
                </div>
            </div>
        </div>
    </div>

    <script>
        const API_BASE = 'http://localhost:8000/api/v1';
        
        // Tab switching
        function switchTab(tabName) {
            // Hide all tab contents
            document.querySelectorAll('.tab-content').forEach(content => {
                content.classList.remove('active');
            });
            
            // Remove active class from all tabs
            document.querySelectorAll('.tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Show selected tab content
            document.getElementById(tabName).classList.add('active');
            
            // Add active class to clicked tab
            event.target.classList.add('active');
        }
        
        // Auto-configure parameters based on mornGPT module selection
        function configureModule() {
            const module = document.getElementById('moduleSelect').value;
            const submodule = parseInt(document.getElementById('submoduleSelect').value);
            
            if (!module || !submodule) return;
            
            // Configuration based on module and submodule
            const config = getModuleConfig(module, submodule);
            
            // Update parameters
            document.getElementById('morngptMaxTokens').value = config.maxTokens;
            document.getElementById('morngptTemperature').value = config.temperature;
            document.getElementById('morngptTempValue').textContent = config.temperature;
            
            // Update info card
            updateConfigInfo(config);
        }
        
        // Get configuration for specific module and submodule
        function getModuleConfig(module, submodule) {
            const baseConfigs = {
                'h': { // Multi-GPT Prompts
                    name: 'Multi-GPT Prompts',
                    baseTokens: 800,
                    baseTemp: 0.7,
                    model: 'ollama/llama3.1:8b'
                },
                'q': { // AI Teacher/Coach
                    name: 'AI Teacher/Coach',
                    baseTokens: 1200,
                    baseTemp: 0.6,
                    model: 'ollama/mistral:7b'
                },
                'c': { // AI Coder
                    name: 'AI Coder',
                    baseTokens: 1500,
                    baseTemp: 0.3,
                    model: 'ollama/codellama:7b'
                },
                'w': { // Content Generation
                    name: 'Content Generation',
                    baseTokens: 1000,
                    baseTemp: 0.8,
                    model: 'gemini-1.5-flash'
                },
                'd': { // Content Detection
                    name: 'Content Detection',
                    baseTokens: 600,
                    baseTemp: 0.2,
                    model: 'claude-3-5-haiku-20241022'
                },
                'p': { // Person Search & Matching
                    name: 'Person Search & Matching',
                    baseTokens: 900,
                    baseTemp: 0.5,
                    model: 'ollama/llama3.1:8b'
                },
                'b': { // Interview/Job
                    name: 'Interview/Job',
                    baseTokens: 1100,
                    baseTemp: 0.6,
                    model: 'ollama/mistral:7b'
                },
                'e': { // Medical Advice
                    name: 'Medical Advice',
                    baseTokens: 800,
                    baseTemp: 0.4,
                    model: 'claude-3-5-haiku-20241022'
                },
                'a': { // Growth Advisory
                    name: 'Growth Advisory',
                    baseTokens: 1300,
                    baseTemp: 0.7,
                    model: 'gemini-1.5-flash'
                },
                's': { // Product Search
                    name: 'Product Search',
                    baseTokens: 700,
                    baseTemp: 0.5,
                    model: 'ollama/llama3.1:8b'
                },
                'u': { // Restaurant/Food
                    name: 'Restaurant/Food',
                    baseTokens: 600,
                    baseTemp: 0.6,
                    model: 'ollama/mistral:7b'
                },
                't': { // Personalized Clothing
                    name: 'Personalized Clothing',
                    baseTokens: 800,
                    baseTemp: 0.7,
                    model: 'ollama/llama3.1:8b'
                },
                'o': { // Personalized Housing
                    name: 'Personalized Housing',
                    baseTokens: 1000,
                    baseTemp: 0.5,
                    model: 'ollama/mistral:7b'
                },
                'r': { // Personalized Traveling
                    name: 'Personalized Traveling',
                    baseTokens: 1200,
                    baseTemp: 0.6,
                    model: 'ollama/llama3.1:8b'
                },
                'z': { // Anti-AI Protection
                    name: 'Anti-AI Protection',
                    baseTokens: 500,
                    baseTemp: 0.3,
                    model: 'ollama/phi3:mini'
                }
            };
            
            const baseConfig = baseConfigs[module];
            if (!baseConfig) return { maxTokens: 1000, temperature: 0.7, model: 'ollama/llama3.1:8b' };
            
            // Scale tokens and temperature based on submodule (1-9)
            const tokenMultiplier = 0.5 + (submodule * 0.1); // 0.6 to 1.4
            const tempAdjustment = (submodule - 5) * 0.05; // -0.2 to +0.2
            
            return {
                maxTokens: Math.round(baseConfig.baseTokens * tokenMultiplier),
                temperature: Math.max(0.1, Math.min(1.0, baseConfig.baseTemp + tempAdjustment)),
                model: baseConfig.model,
                name: baseConfig.name,
                submodule: submodule
            };
        }
        
        // Update configuration info display
        function updateConfigInfo(config) {
            const infoCard = document.querySelector('.info-card');
            if (infoCard) {
                infoCard.innerHTML = `
                    <h4>ü§ñ Auto-Configuration: ${config.name} (${config.submodule})</h4>
                    <p><strong>Model:</strong> ${config.model}</p>
                    <p><strong>Tokens:</strong> ${config.maxTokens} (optimized for ${config.name.toLowerCase()})</p>
                    <p><strong>Temperature:</strong> ${config.temperature} (${config.temperature < 0.4 ? 'Precise' : config.temperature < 0.7 ? 'Balanced' : 'Creative'})</p>
                `;
            }
        }
        
        // Add event listeners for auto-configuration
        document.getElementById('moduleSelect').addEventListener('change', configureModule);
        document.getElementById('submoduleSelect').addEventListener('change', configureModule);
        
        // Temperature slider for mornGPT
        document.getElementById('morngptTemperature').addEventListener('input', function() {
            document.getElementById('morngptTempValue').textContent = this.value;
        });
        
        // mornGPT form
        document.getElementById('morngptForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            const module = document.getElementById('moduleSelect').value;
            const submodule = parseInt(document.getElementById('submoduleSelect').value);
            const prompt = document.getElementById('morngptPrompt').value;
            const maxTokens = parseInt(document.getElementById('morngptMaxTokens').value);
            const temperature = parseFloat(document.getElementById('morngptTemperature').value);
            
            // Get selected model
            const selectedModel = document.querySelector('input[name="selectedModel"]:checked');
            if (!selectedModel) {
                showError('morngptResponse', 'Please select an AI model');
                return;
            }
            
            const model = selectedModel.value;
            
            showLoading('morngptResponse');
            
            try {
                const response = await fetch(`${API_BASE}/generate`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        prompt: `[${module.toUpperCase()}${submodule}] ${prompt}`,
                        model: model,
                        budget: 'auto',
                        max_tokens: maxTokens,
                        temperature: temperature,
                        module: module,
                        submodule: submodule
                    })
                });
                
                const data = await response.json();
                
                if (response.ok) {
                    showResponse('morngptResponse', data);
                    document.getElementById('morngptProvider').textContent = `Provider: ${data.provider}`;
                    document.getElementById('morngptCost').textContent = `Cost: $${data.cost.toFixed(6)}`;
                    document.getElementById('morngptTime').textContent = `Time: ${data.response_time.toFixed(2)}s`;
                } else {
                    showError('morngptResponse', data.detail || 'Generation failed');
                }
            } catch (error) {
                showError('morngptResponse', 'Network error: ' + error.message);
            }
        });
        

        
        function showLoading(containerId) {
            const container = document.getElementById(containerId);
            container.style.display = 'block';
            container.innerHTML = `
                <div class="loading">
                    <div class="spinner"></div>
                    <p>Processing your request...</p>
                </div>
            `;
        }
        
        function showResponse(containerId, data) {
            const container = document.getElementById(containerId);
            const content = containerId === 'generateResponse' ? data.content :
                           containerId === 'orchestrateResponse' ? data.orchestrated_prompt :
                           containerId === 'chainResponse' ? data.chained_prompts.join('\n\n---\n\n') :
                           `Original: ${data.original_prompt}\n\nOptimized: ${data.optimized_prompt}`;
            
            container.innerHTML = `
                <div class="response-header">
                    <h3>Response</h3>
                    <div class="response-stats">
                        <span>Success</span>
                    </div>
                </div>
                <div class="response-content">${content}</div>
            `;
        }
        
        function showError(containerId, message) {
            const container = document.getElementById(containerId);
            container.innerHTML = `
                <div class="error">
                    <strong>Error:</strong> ${message}
                </div>
            `;
        }

        // Model category switching
        function switchCategory(categoryName) {
            // Hide all category contents
            document.querySelectorAll('.category-content').forEach(content => {
                content.classList.remove('active');
            });
            
            // Remove active class from all category tabs
            document.querySelectorAll('.category-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Show selected category content
            document.getElementById(categoryName).classList.add('active');
            
            // Add active class to clicked tab
            event.target.classList.add('active');
        }

        // Test individual model
        async function testModel(modelName, provider) {
            const testPrompt = "Write a simple Python function to calculate the factorial of a number.";
            
            // Show test results section
            const testResults = document.getElementById('testResults');
            testResults.style.display = 'block';
            
            // Add test result item
            const testResultsContent = document.getElementById('testResultsContent');
            const resultId = `test-${Date.now()}`;
            
            testResultsContent.innerHTML += `
                <div id="${resultId}" class="test-result-item">
                    <div class="test-result-header">
                        <span class="test-result-model">${modelName}</span>
                        <span class="test-result-status">Testing...</span>
                    </div>
                    <div class="test-result-content">Initializing test...</div>
                    <div class="test-result-meta">
                        <span>Provider: ${provider}</span>
                        <span>Cost: Calculating...</span>
                        <span>Time: Measuring...</span>
                    </div>
                </div>
            `;
            
            const resultElement = document.getElementById(resultId);
            const statusElement = resultElement.querySelector('.test-result-status');
            const contentElement = resultElement.querySelector('.test-result-content');
            const metaElement = resultElement.querySelector('.test-result-meta');
            
            try {
                // Determine budget based on provider
                let budget = 'free_local';
                if (provider === 'google' || provider === 'anthropic') {
                    budget = 'ultra_cheap';
                } else if (provider === 'openai' || provider === 'mistral') {
                    budget = 'cheap';
                }
                
                const startTime = Date.now();
                
                const response = await fetch(`${API_BASE}/generate`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        prompt: testPrompt,
                        model: modelName,
                        budget: budget,
                        max_tokens: 300,
                        temperature: 0.7
                    })
                });
                
                const data = await response.json();
                const endTime = Date.now();
                const responseTime = (endTime - startTime) / 1000;
                
                if (response.ok && data.success) {
                    statusElement.textContent = 'Success';
                    statusElement.className = 'test-result-status success';
                    contentElement.textContent = data.content;
                    metaElement.innerHTML = `
                        <span>Provider: ${data.provider}</span>
                        <span>Cost: $${data.cost.toFixed(6)}</span>
                        <span>Time: ${responseTime.toFixed(2)}s</span>
                        <span>Tokens: ${data.tokens_used}</span>
                    `;
                } else {
                    statusElement.textContent = 'Error';
                    statusElement.className = 'test-result-status error';
                    contentElement.textContent = data.error || 'Test failed';
                    metaElement.innerHTML = `
                        <span>Provider: ${provider}</span>
                        <span>Error: ${data.error || 'Unknown error'}</span>
                        <span>Time: ${responseTime.toFixed(2)}s</span>
                    `;
                }
            } catch (error) {
                statusElement.textContent = 'Error';
                statusElement.className = 'test-result-status error';
                contentElement.textContent = `Network error: ${error.message}`;
                metaElement.innerHTML = `
                    <span>Provider: ${provider}</span>
                    <span>Error: Network error</span>
                    <span>Time: N/A</span>
                `;
            }
        }

        // Test all models in a category
        async function testAllModels(category) {
            const models = [];
            
            // Get all models in the current category
            const categoryElement = document.getElementById(category);
            if (categoryElement) {
                const modelItems = categoryElement.querySelectorAll('.model-item, .model-card');
                modelItems.forEach(item => {
                    const modelName = item.dataset.model;
                    const provider = item.dataset.provider;
                    if (modelName && provider) {
                        models.push({ model: modelName, provider: provider });
                    }
                });
            }
            
            if (models.length === 0) {
                alert('No models found in this category');
                return;
            }
            
            // Confirm test
            const confirmTest = confirm(`Test all ${models.length} models in this category? This may take a few minutes.`);
            if (!confirmTest) return;
            
            // Show test results
            const testResults = document.getElementById('testResults');
            testResults.style.display = 'block';
            
            // Test each model sequentially
            for (let i = 0; i < models.length; i++) {
                const { model, provider } = models[i];
                await testModel(model, provider);
                
                // Small delay between tests
                if (i < models.length - 1) {
                    await new Promise(resolve => setTimeout(resolve, 1000));
                }
            }
        }

        // Quick test with custom prompt
        async function quickTest() {
            const prompt = prompt('Enter a test prompt:', 'Write a Python function to calculate fibonacci numbers');
            if (!prompt) return;
            
            const model = prompt('Enter model name (or leave empty for auto-select):', 'ollama/llama3.1:8b');
            const budget = prompt('Enter budget tier (free_local, ultra_cheap, cheap):', 'free_local');
            
            // Show test results
            const testResults = document.getElementById('testResults');
            testResults.style.display = 'block';
            
            const testResultsContent = document.getElementById('testResultsContent');
            const resultId = `quick-test-${Date.now()}`;
            
            testResultsContent.innerHTML += `
                <div id="${resultId}" class="test-result-item">
                    <div class="test-result-header">
                        <span class="test-result-model">Quick Test: ${model || 'Auto-select'}</span>
                        <span class="test-result-status">Testing...</span>
                    </div>
                    <div class="test-result-content">Initializing test...</div>
                    <div class="test-result-meta">
                        <span>Prompt: ${prompt.substring(0, 50)}...</span>
                        <span>Budget: ${budget}</span>
                        <span>Time: Measuring...</span>
                    </div>
                </div>
            `;
            
            const resultElement = document.getElementById(resultId);
            const statusElement = resultElement.querySelector('.test-result-status');
            const contentElement = resultElement.querySelector('.test-result-content');
            const metaElement = resultElement.querySelector('.test-result-meta');
            
            try {
                const startTime = Date.now();
                
                const response = await fetch(`${API_BASE}/generate`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        prompt: prompt,
                        model: model || null,
                        budget: budget,
                        max_tokens: 500,
                        temperature: 0.7
                    })
                });
                
                const data = await response.json();
                const endTime = Date.now();
                const responseTime = (endTime - startTime) / 1000;
                
                if (response.ok && data.success) {
                    statusElement.textContent = 'Success';
                    statusElement.className = 'test-result-status success';
                    contentElement.textContent = data.content;
                    metaElement.innerHTML = `
                        <span>Provider: ${data.provider}</span>
                        <span>Cost: $${data.cost.toFixed(6)}</span>
                        <span>Time: ${responseTime.toFixed(2)}s</span>
                        <span>Tokens: ${data.tokens_used}</span>
                    `;
                } else {
                    statusElement.textContent = 'Error';
                    statusElement.className = 'test-result-status error';
                    contentElement.textContent = data.error || 'Test failed';
                    metaElement.innerHTML = `
                        <span>Error: ${data.error || 'Unknown error'}</span>
                        <span>Time: ${responseTime.toFixed(2)}s</span>
                    `;
                }
            } catch (error) {
                statusElement.textContent = 'Error';
                statusElement.className = 'test-result-status error';
                contentElement.textContent = `Network error: ${error.message}`;
                metaElement.innerHTML = `
                    <span>Error: Network error</span>
                    <span>Time: N/A</span>
                `;
            }
        }

        // Clear test results
        function clearTestResults() {
            const testResultsContent = document.getElementById('testResultsContent');
            testResultsContent.innerHTML = '';
            document.getElementById('testResults').style.display = 'none';
        }
    </script>
</body>
</html> 