<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>mornGPT - Free AI Client</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            line-height: 1.6;
            color: #333;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 24px;
            box-shadow: 0 25px 50px rgba(0,0,0,0.15);
            overflow: hidden;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.2);
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 40px 30px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="grain" width="100" height="100" patternUnits="userSpaceOnUse"><circle cx="25" cy="25" r="1" fill="white" opacity="0.1"/><circle cx="75" cy="75" r="1" fill="white" opacity="0.1"/><circle cx="50" cy="10" r="0.5" fill="white" opacity="0.1"/><circle cx="10" cy="60" r="0.5" fill="white" opacity="0.1"/><circle cx="90" cy="40" r="0.5" fill="white" opacity="0.1"/></pattern></defs><rect width="100" height="100" fill="url(%23grain)"/></svg>');
            opacity: 0.3;
        }

        .header h1 {
            font-size: 3rem;
            margin-bottom: 15px;
            font-weight: 800;
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
            position: relative;
            z-index: 1;
        }

        .header p {
            font-size: 1.2rem;
            opacity: 0.95;
            font-weight: 400;
            position: relative;
            z-index: 1;
        }

        .main-content {
            padding: 30px;
            background: linear-gradient(180deg, #fafbfc 0%, #ffffff 100%);
        }

        .tabs {
            display: flex;
            margin-bottom: 20px;
            border-bottom: 2px solid #e1e5e9;
            background: rgba(255,255,255,0.8);
            border-radius: 16px 16px 0 0;
            padding: 8px 8px 0 8px;
            backdrop-filter: blur(10px);
        }

        .tab {
            padding: 18px 32px;
            cursor: pointer;
            border-bottom: 3px solid transparent;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            font-weight: 600;
            border-radius: 12px 12px 0 0;
            position: relative;
            color: #666;
        }

        .tab.active {
            border-bottom-color: #667eea;
            color: #667eea;
            background: rgba(102, 126, 234, 0.1);
        }

        .tab:hover {
            background: rgba(102, 126, 234, 0.05);
            color: #667eea;
            transform: translateY(-1px);
        }

        .tab::after {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 50%;
            width: 0;
            height: 3px;
            background: #667eea;
            transition: all 0.3s ease;
            transform: translateX(-50%);
        }

        .tab.active::after {
            width: 100%;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #333;
        }

        .form-group input,
        .form-group textarea,
        .form-group select {
            width: 100%;
            padding: 12px;
            border: 2px solid #e1e5e9;
            border-radius: 8px;
            font-size: 14px;
            transition: border-color 0.3s ease;
        }

        .form-group input:focus,
        .form-group textarea:focus,
        .form-group select:focus {
            outline: none;
            border-color: #667eea;
        }

        .form-group textarea {
            min-height: 120px;
            resize: vertical;
        }

        .btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 14px 32px;
            border-radius: 12px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
            position: relative;
            overflow: hidden;
        }

        .btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.5s;
        }

        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.4);
        }

        .btn:hover::before {
            left: 100%;
        }

        .btn:active {
            transform: translateY(-1px);
        }

        .btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .response-container {
            margin-top: 30px;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 12px;
            border-left: 4px solid #667eea;
        }

        .response-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 1px solid #e1e5e9;
        }

        .response-stats {
            display: flex;
            gap: 20px;
            font-size: 14px;
            color: #666;
        }
        
        .auto-config {
            color: #666;
            font-style: italic;
            font-size: 11px;
            margin-top: 4px;
            display: block;
        }
        
        .auto-config-info {
            margin-top: 20px;
        }
        
        .info-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }
        
        .info-card h4 {
            margin: 0 0 10px 0;
            font-size: 16px;
        }
        
        .info-card p {
            margin: 5px 0;
            font-size: 14px;
            opacity: 0.9;
        }
        
        .info-card strong {
            color: #fff;
        }
        
        .model-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 15px;
        }
        
        .model-category {
            background: white;
            border: 1px solid #e1e5e9;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        .model-category h4 {
            margin: 0 0 15px 0;
            color: #333;
            font-size: 16px;
            border-bottom: 2px solid #667eea;
            padding-bottom: 8px;
        }
        
        .model-options {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }
        
        .model-option {
            display: flex;
            align-items: center;
            padding: 12px;
            border: 2px solid #f0f0f0;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s ease;
            position: relative;
        }
        
        .model-option:hover {
            border-color: #667eea;
            background: #f8f9ff;
        }
        
        .model-option input[type="radio"] {
            margin-right: 12px;
            transform: scale(1.2);
        }
        
        .model-option input[type="radio"]:checked + .model-name {
            color: #667eea;
            font-weight: 600;
        }
        
        .model-option:has(input[type="radio"]:checked) {
            border-color: #667eea;
            background: #f0f4ff;
        }
        
        .model-name {
            font-weight: 500;
            color: #333;
            margin-right: 8px;
        }
        
        .model-desc {
            color: #666;
            font-size: 12px;
            flex-grow: 1;
        }
        
        .cost-badge {
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 10px;
            font-weight: 600;
            text-transform: uppercase;
        }
        
        .cost-badge.free {
            background: #e8f5e8;
            color: #2d5a2d;
        }
        
        .cost-badge.cheap {
            background: #fff3cd;
            color: #856404;
        }
        
        .cost-badge.paid {
            background: #f8d7da;
            color: #721c24;
        }
        
        /* ChatGPT Style */
        .chat-container {
            display: flex;
            flex-direction: column;
            height: calc(100vh - 250px);
            max-width: 900px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.12);
            overflow: hidden;
            border: 1px solid rgba(0,0,0,0.05);
        }
        
        .chat-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 24px 28px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            position: relative;
            overflow: hidden;
        }

        .chat-header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(45deg, transparent 30%, rgba(255,255,255,0.1) 50%, transparent 70%);
            animation: shimmer 3s infinite;
        }

        @keyframes shimmer {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }
        
        .chat-header h2 {
            margin: 0;
            font-size: 24px;
            font-weight: 600;
        }
        
        .model-selector select {
            background: rgba(255,255,255,0.15);
            border: 1px solid rgba(255,255,255,0.3);
            color: white;
            padding: 12px 16px;
            border-radius: 12px;
            font-size: 14px;
            min-width: 250px;
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
            font-weight: 500;
        }

        .model-selector select:focus {
            outline: none;
            border-color: rgba(255,255,255,0.6);
            box-shadow: 0 0 0 3px rgba(255,255,255,0.1);
        }
        
        .model-selector select option {
            background: white;
            color: #333;
        }
        
        .chat-messages {
            flex: 1;
            overflow-y: auto;
            padding: 20px;
            background: #f8f9fa;
        }
        
        .message {
            margin-bottom: 20px;
            display: flex;
            align-items: flex-start;
        }
        
        .message.user {
            justify-content: flex-end;
        }
        
        .message.assistant {
            justify-content: flex-start;
        }
        
        .message-content {
            max-width: 80%;
            padding: 12px 16px;
            border-radius: 18px;
            font-size: 14px;
            line-height: 1.5;
        }
        
        .message.user .message-content {
            background: #667eea;
            color: white;
            border-bottom-right-radius: 4px;
        }
        
        .message.assistant .message-content {
            background: white;
            color: #333;
            border: 1px solid #e1e5e9;
            border-bottom-left-radius: 4px;
        }
        
        .chat-input-container {
            padding: 20px;
            background: white;
            border-top: 1px solid #e1e5e9;
        }
        
        .input-wrapper {
            display: flex;
            align-items: flex-end;
            gap: 12px;
            background: white;
            border: 2px solid #e1e5e9;
            border-radius: 28px;
            padding: 12px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .input-wrapper:focus-within {
            border-color: #667eea;
            box-shadow: 0 8px 32px rgba(102, 126, 234, 0.15);
            transform: translateY(-2px);
        }
        
        #chatInput {
            flex: 1;
            border: none;
            outline: none;
            resize: none;
            padding: 8px 12px;
            font-size: 14px;
            line-height: 1.4;
            max-height: 120px;
            min-height: 20px;
        }
        
        .send-button {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 50%;
            width: 44px;
            height: 44px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            transform: rotate(90deg);
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
            position: relative;
            overflow: hidden;
        }

        .send-button::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: radial-gradient(circle, rgba(255,255,255,0.3) 0%, transparent 70%);
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        
        .send-button:hover {
            background: linear-gradient(135deg, #5a6fd8 0%, #6a4c93 100%);
            transform: rotate(90deg) scale(1.1);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
        }

        .send-button:hover::before {
            opacity: 1;
        }
        
        .send-button:disabled {
            background: #ccc;
            cursor: not-allowed;
        }
        
        .upload-button {
            background: transparent;
            color: #667eea;
            border: none;
            border-radius: 50%;
            width: 36px;
            height: 36px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.2s ease;
            margin-right: 8px;
        }
        
        .upload-button:hover {
            background: #f0f4ff;
            color: #5a6fd8;
        }
        
        .file-preview {
            background: #f8f9fa;
            border: 1px solid #e1e5e9;
            border-radius: 8px;
            padding: 12px;
            margin-top: 8px;
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        .file-preview img {
            width: 40px;
            height: 40px;
            object-fit: cover;
            border-radius: 4px;
        }
        
        .file-info {
            flex: 1;
        }
        
        .file-name {
            font-weight: 500;
            color: #333;
            font-size: 14px;
        }
        
        .file-size {
            color: #666;
            font-size: 12px;
        }
        
        .remove-file {
            background: #ff4757;
            color: white;
            border: none;
            border-radius: 50%;
            width: 24px;
            height: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-size: 12px;
        }

        .response-content {
            background: white;
            padding: 20px;
            border-radius: 8px;
            border: 1px solid #e1e5e9;
            white-space: pre-wrap;
            font-family: 'Courier New', monospace;
            line-height: 1.6;
        }

        .loading {
            text-align: center;
            padding: 40px;
            color: #666;
        }

        .spinner {
            border: 3px solid #f3f3f3;
            border-top: 3px solid #667eea;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
            box-shadow: 0 0 20px rgba(102, 126, 234, 0.3);
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Modern loading dots */
        .loading-dots {
            display: flex;
            justify-content: center;
            gap: 8px;
            margin: 20px 0;
        }

        .loading-dots span {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: #667eea;
            animation: loadingDots 1.4s infinite ease-in-out;
        }

        .loading-dots span:nth-child(1) { animation-delay: -0.32s; }
        .loading-dots span:nth-child(2) { animation-delay: -0.16s; }

        @keyframes loadingDots {
            0%, 80%, 100% {
                transform: scale(0.8);
                opacity: 0.5;
            }
            40% {
                transform: scale(1);
                opacity: 1;
            }
        }

        /* Pulse animation for active elements */
        .pulse {
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(102, 126, 234, 0.7); }
            70% { box-shadow: 0 0 0 10px rgba(102, 126, 234, 0); }
            100% { box-shadow: 0 0 0 0 rgba(102, 126, 234, 0); }
        }

        .error {
            background: #fee;
            color: #c33;
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid #c33;
            margin-top: 20px;
        }

        .success {
            background: #efe;
            color: #363;
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid #363;
            margin-top: 20px;
        }

        .grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-top: 15px;
        }

        .card {
            background: white;
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            border: 1px solid #e1e5e9;
        }

        .card h3 {
            color: #333;
            margin-bottom: 15px;
            font-size: 1.2rem;
        }

        .model-list {
            list-style: none;
        }

        .model-list li {
            padding: 8px 0;
            border-bottom: 1px solid #f0f0f0;
            display: flex;
            justify-content: space-between;
        }

        .model-list li:last-child {
            border-bottom: none;
        }

        .cost-badge {
            background: #667eea;
            color: white;
            padding: 2px 8px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 600;
        }

        .free-badge {
            background: #28a745;
        }

        /* Model Categories */
        .model-categories {
            margin-bottom: 20px;
        }

        .category-tabs {
            display: flex;
            gap: 8px;
            margin-bottom: 15px;
            flex-wrap: wrap;
        }

        .category-tab {
            padding: 8px 16px;
            border: 2px solid #e1e5e9;
            background: white;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 500;
            font-size: 14px;
        }

        .category-tab.active {
            border-color: #667eea;
            background: #667eea;
            color: white;
        }

        .category-tab:hover {
            border-color: #667eea;
            background: #f8f9fa;
        }

        .category-content {
            display: none;
            opacity: 0;
            transform: translateY(10px);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .category-content.active {
            display: block;
            opacity: 1;
            transform: translateY(0);
        }

        /* Model Items */
        .model-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 14px;
            border: 2px solid #e1e5e9;
            border-radius: 12px;
            margin-bottom: 8px;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            background: white;
            position: relative;
            overflow: hidden;
        }

        .model-item::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 4px;
            height: 100%;
            background: linear-gradient(180deg, #667eea, #764ba2);
            transform: scaleY(0);
            transition: transform 0.3s ease;
        }

        .model-item:hover {
            border-color: #667eea;
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.15);
            transform: translateY(-2px);
        }

        .model-item:hover::before {
            transform: scaleY(1);
        }

        .model-info {
            flex: 1;
        }

        .model-name {
            display: block;
            font-weight: 600;
            color: #333;
            margin-bottom: 4px;
        }

        .model-desc {
            display: block;
            font-size: 14px;
            color: #666;
        }

        .model-actions {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .test-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 10px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 2px 10px rgba(102, 126, 234, 0.2);
            position: relative;
            overflow: hidden;
        }

        .test-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.5s;
        }

        .test-btn:hover {
            background: linear-gradient(135deg, #5a6fd8 0%, #6a4c93 100%);
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
        }

        .test-btn:hover::before {
            left: 100%;
        }

        .test-btn:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: none;
        }

        /* Model Stats */
        .model-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }

        .stat-card {
            background: white;
            padding: 16px;
            border-radius: 12px;
            text-align: center;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            border: 1px solid #e1e5e9;
        }

        .stat-card h4 {
            color: #666;
            margin-bottom: 10px;
            font-size: 14px;
        }

        .stat-number {
            font-size: 2rem;
            font-weight: bold;
            color: #667eea;
        }

        /* All Models Grid */
        .all-models-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 15px;
        }

        .model-card {
            background: white;
            padding: 18px;
            border-radius: 16px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
            border: 1px solid #e1e5e9;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }

        .model-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #667eea, #764ba2);
            transform: scaleX(0);
            transition: transform 0.3s ease;
        }

        .model-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 12px 40px rgba(0,0,0,0.15);
            border-color: #667eea;
        }

        .model-card:hover::before {
            transform: scaleX(1);
        }

        .model-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        .model-header h4 {
            margin: 0;
            color: #333;
            font-size: 1.1rem;
        }

        .model-card p {
            color: #666;
            margin-bottom: 12px;
            font-size: 14px;
        }

        .model-meta {
            display: flex;
            justify-content: space-between;
            margin-bottom: 15px;
            font-size: 12px;
            color: #888;
        }

        .model-card .test-btn {
            width: 100%;
            padding: 8px;
        }

        /* Test Results */
        .test-results {
            margin-top: 30px;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 12px;
            border-left: 4px solid #667eea;
        }

        .test-result-item {
            background: white;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 15px;
            border: 1px solid #e1e5e9;
        }

        .test-result-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        .test-result-model {
            font-weight: 600;
            color: #333;
        }

        .test-result-status {
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 600;
        }

        .test-result-status.success {
            background: #d4edda;
            color: #155724;
        }

        .test-result-status.error {
            background: #f8d7da;
            color: #721c24;
        }

        .test-result-content {
            background: #f8f9fa;
            padding: 10px;
            border-radius: 6px;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            white-space: pre-wrap;
            max-height: 200px;
            overflow-y: auto;
        }

        .test-result-meta {
            display: flex;
            gap: 20px;
            margin-top: 10px;
            font-size: 12px;
            color: #666;
            flex-wrap: wrap;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .container {
                margin: 10px;
                border-radius: 16px;
            }
            
            .main-content {
                padding: 20px 15px;
            }
            
            .header h1 {
                font-size: 2rem;
            }
            
            .header p {
                font-size: 1rem;
            }
            
            .tabs {
                flex-direction: column;
                gap: 8px;
            }
            
            .tab {
                padding: 12px 20px;
                border-radius: 8px;
            }
            
            .chat-container {
                height: calc(100vh - 300px);
                max-width: 100%;
            }
            
            .model-selector select {
                min-width: 200px;
                font-size: 12px;
            }
            
            .input-wrapper {
                padding: 8px;
                border-radius: 20px;
            }
            
            .send-button {
                width: 36px;
                height: 36px;
            }
            
            .grid {
                grid-template-columns: 1fr;
                gap: 15px;
            }
            
            .all-models-grid {
                grid-template-columns: 1fr;
                gap: 12px;
            }
            
            .model-card {
                padding: 14px;
            }
            
            .category-tabs {
                flex-direction: column;
                gap: 8px;
            }
            
            .category-tab {
                padding: 8px 16px;
                text-align: center;
            }
            
            .test-result-meta {
                flex-direction: column;
                gap: 8px;
            }
        }

        @media (max-width: 480px) {
            .header {
                padding: 30px 20px;
            }
            
            .header h1 {
                font-size: 1.8rem;
            }
            
            .main-content {
                padding: 20px 15px;
            }
            
            .chat-header {
                padding: 16px 20px;
                flex-direction: column;
                gap: 12px;
            }
            
            .model-selector select {
                min-width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>🤖 mornGPT</h1>
            <p>Multi-Module AI System with Free AI Client Integration</p>
        </div>

        <div class="main-content">
            <div class="tabs">
                <div class="tab active" onclick="switchTab('morngpt')">mornGPT</div>
                <div class="tab" onclick="switchTab('models')">Models</div>
            </div>

            <!-- mornGPT Tab -->
            <div id="morngpt" class="tab-content active">
                <div class="chat-container">
                    <div class="chat-header">
                        <h2>mornGPT</h2>
                        <div class="model-selector">
                            <select id="combinedSelect" onchange="updateModelInfo()">
                                <optgroup label="🤖 mornGPT Modules">
                                    <option value="h1">Multi-GPT Prompts (H1)</option>
                                    <option value="q1">AI Teacher/Coach (Q1)</option>
                                    <option value="c1">AI Coder (C1)</option>
                                    <option value="w1">Content Generation (W1)</option>
                                    <option value="d1">Content Detection (D1)</option>
                                    <option value="p1">Person Search & Matching (P1)</option>
                                    <option value="b1">Interview/Job (B1)</option>
                                    <option value="e1">Medical Advice (E1)</option>
                                    <option value="a1">Growth Advisory (A1)</option>
                                    <option value="s1">Product Search (S1)</option>
                                    <option value="u1">Restaurant/Food (U1)</option>
                                    <option value="t1">Personalized Clothing (T1)</option>
                                    <option value="o1">Personalized Housing (O1)</option>
                                    <option value="r1">Personalized Traveling (R1)</option>
                                    <option value="z1">Anti-AI Protection (Z1)</option>
                                </optgroup>
                                
                                <optgroup label="🆓 Free Models">
                                    <option value="ollama/llama3.1:8b">Llama 3.1 (8B) - FREE</option>
                                    <option value="ollama/mistral:7b">Mistral 7B - FREE</option>
                                    <option value="ollama/codellama:7b">CodeLlama 7B - FREE</option>
                                    <option value="ollama/phi3:mini">Phi-3 Mini - FREE</option>
                                    <option value="mistralai/Mistral-7B-Instruct-v0.2">Mistral 7B Instruct - FREE</option>
                                    <option value="meta-llama/Llama-2-7b-chat-hf">Llama 2 7B Chat - FREE</option>
                                    <option value="Salesforce/codegen-350M-mono">CodeGen 350M - FREE</option>
                                </optgroup>
                                
                                <optgroup label="💰 Paid Models">
                                    <option value="gemini-1.5-flash">Gemini 1.5 Flash - $0.000075/1K</option>
                                    <option value="claude-3-5-haiku-20241022">Claude 3.5 Haiku - $0.00025/1K</option>
                                    <option value="command-r">Cohere Command R - $0.0005/1K</option>
                                    <option value="mistral-medium">Mistral Medium - $0.0024/1K</option>
                                    <option value="gpt-3.5-turbo">GPT-3.5 Turbo - $0.0005/1K</option>
                                </optgroup>
                            </select>
                        </div>
                    </div>
                    
                    <div class="chat-messages" id="chatMessages">
                        <div class="message assistant">
                            <div class="message-content">
                                <p>Hello! I'm mornGPT. I can help you with specialized AI tasks using various models. Choose a module or model from the dropdown above and start chatting!</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="chat-input-container">
                        <form id="chatForm">
                            <div class="input-wrapper">
                                <button type="button" class="upload-button" onclick="document.getElementById('fileInput').click()">
                                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                                        <path d="M21 15V19A2 2 0 0 1 19 21H5A2 2 0 0 1 3 19V15M17 8L12 3M12 3L7 8M12 3V15" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                    </svg>
                                </button>
                                <textarea 
                                    id="chatInput" 
                                    placeholder="Message mornGPT..." 
                                    rows="1"
                                    oninput="autoResize(this)"
                                ></textarea>
                                <button type="submit" class="send-button">
                                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                                        <path d="M7 11L12 6L17 11M12 18V7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                    </svg>
                                </button>
                            </div>
                            <input type="file" id="fileInput" style="display: none;" accept=".txt,.pdf,.doc,.docx,.jpg,.jpeg,.png,.gif" onchange="handleFileUpload(this)">
                        </form>
                    </div>
                </div>
            </div>

            <!-- Models Tab -->
            <div id="models" class="tab-content">
                <h2>All Available AI Models</h2>
                
                <!-- Model Categories -->
                <div class="model-categories">
                    <div class="category-tabs">
                        <button class="category-tab active" onclick="switchCategory('free')">🆓 Free APIs</button>
                        <button class="category-tab" onclick="switchCategory('morngpt')">🤖 mornGPT Modules</button>
                        <button class="category-tab" onclick="switchCategory('ultra-cheap')">💰 Ultra-Cheap</button>
                        <button class="category-tab" onclick="switchCategory('cheap')">💸 Cheap</button>
                        <button class="category-tab" onclick="switchCategory('popular')">⭐ Popular</button>
                        <button class="category-tab" onclick="switchCategory('all')">📊 All Models</button>
                    </div>
                </div>

                <!-- Free APIs Category -->
                <div id="free" class="category-content active" style="display: block;">
                    <div class="grid">
                        <div class="card">
                            <h3>🆓 Free Local Models (Ollama)</h3>
                            <ul class="model-list">
                                <li class="model-item" data-model="ollama/llama3.1:8b" data-provider="ollama" data-cost="0">
                                    <div class="model-info">
                                        <span class="model-name">Llama 3.1 (8B)</span>
                                        <span class="model-desc">Meta's latest open model</span>
                                    </div>
                                    <div class="model-actions">
                                        <span class="cost-badge free-badge">FREE</span>
                                        <button class="test-btn" onclick="testModel('ollama/llama3.1:8b', 'ollama')">Test</button>
                                    </div>
                                </li>
                                <li class="model-item" data-model="ollama/mistral:7b" data-provider="ollama" data-cost="0">
                                    <div class="model-info">
                                        <span class="model-name">Mistral 7B</span>
                                        <span class="model-desc">Fast and efficient 7B model</span>
                                    </div>
                                    <div class="model-actions">
                                        <span class="cost-badge free-badge">FREE</span>
                                        <button class="test-btn" onclick="testModel('ollama/mistral:7b', 'ollama')">Test</button>
                                    </div>
                                </li>
                                <li class="model-item" data-model="ollama/codellama:7b" data-provider="ollama" data-cost="0">
                                    <div class="model-info">
                                        <span class="model-name">CodeLlama 7B</span>
                                        <span class="model-desc">Specialized for code generation</span>
                                    </div>
                                    <div class="model-actions">
                                        <span class="cost-badge free-badge">FREE</span>
                                        <button class="test-btn" onclick="testModel('ollama/codellama:7b', 'ollama')">Test</button>
                                    </div>
                                </li>
                                <li class="model-item" data-model="ollama/phi3:mini" data-provider="ollama" data-cost="0">
                                    <div class="model-info">
                                        <span class="model-name">Phi-3 Mini</span>
                                        <span class="model-desc">Microsoft's efficient 3.8B model</span>
                                    </div>
                                    <div class="model-actions">
                                        <span class="cost-badge free-badge">FREE</span>
                                        <button class="test-btn" onclick="testModel('ollama/phi3:mini', 'ollama')">Test</button>
                                    </div>
                                </li>
                            </ul>
                        </div>
                        
                        <div class="card">
                            <h3>🆓 Free API Models (Hugging Face)</h3>
                            <ul class="model-list">
                                <li class="model-item" data-model="mistralai/Mistral-7B-Instruct-v0.2" data-provider="huggingface" data-cost="0">
                                    <div class="model-info">
                                        <span class="model-name">Mistral 7B Instruct</span>
                                        <span class="model-desc">Instruction-tuned Mistral model</span>
                                    </div>
                                    <div class="model-actions">
                                        <span class="cost-badge free-badge">FREE</span>
                                        <button class="test-btn" onclick="testModel('mistralai/Mistral-7B-Instruct-v0.2', 'huggingface')">Test</button>
                                    </div>
                                </li>
                                <li class="model-item" data-model="meta-llama/Llama-2-7b-chat-hf" data-provider="huggingface" data-cost="0">
                                    <div class="model-info">
                                        <span class="model-name">Llama 2 7B Chat</span>
                                        <span class="model-desc">Chat-optimized Llama 2 model</span>
                                    </div>
                                    <div class="model-actions">
                                        <span class="cost-badge free-badge">FREE</span>
                                        <button class="test-btn" onclick="testModel('meta-llama/Llama-2-7b-chat-hf', 'huggingface')">Test</button>
                                    </div>
                                </li>
                                <li class="model-item" data-model="Salesforce/codegen-350M-mono" data-provider="huggingface" data-cost="0">
                                    <div class="model-info">
                                        <span class="model-name">CodeGen 350M</span>
                                        <span class="model-desc">Lightweight code generation</span>
                                    </div>
                                    <div class="model-actions">
                                        <span class="cost-badge free-badge">FREE</span>
                                        <button class="test-btn" onclick="testModel('Salesforce/codegen-350M-mono', 'huggingface')">Test</button>
                                    </div>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- mornGPT Modules Category -->
                <div id="morngpt" class="category-content">
                    <div class="grid">
                        <div class="card">
                            <h3>🤖 mornGPT Specialized Modules</h3>
                            <ul class="model-list">
                                <li class="model-item" data-model="h1" data-provider="morngpt" data-cost="0">
                                    <div class="model-info">
                                        <span class="model-name">Multi-GPT Prompts (H1)</span>
                                        <span class="model-desc">Advanced prompt orchestration and optimization</span>
                                    </div>
                                    <div class="model-actions">
                                        <span class="cost-badge free-badge">FREE</span>
                                        <button class="test-btn" onclick="testModel('h1', 'morngpt')">Test</button>
                                    </div>
                                </li>
                                <li class="model-item" data-model="q1" data-provider="morngpt" data-cost="0">
                                    <div class="model-info">
                                        <span class="model-name">AI Teacher/Coach (Q1)</span>
                                        <span class="model-desc">Personalized learning and educational guidance</span>
                                    </div>
                                    <div class="model-actions">
                                        <span class="cost-badge free-badge">FREE</span>
                                        <button class="test-btn" onclick="testModel('q1', 'morngpt')">Test</button>
                                    </div>
                                </li>
                                <li class="model-item" data-model="c1" data-provider="morngpt" data-cost="0">
                                    <div class="model-info">
                                        <span class="model-name">AI Coder (C1)</span>
                                        <span class="model-desc">Code generation, debugging, and programming help</span>
                                    </div>
                                    <div class="model-actions">
                                        <span class="cost-badge free-badge">FREE</span>
                                        <button class="test-btn" onclick="testModel('c1', 'morngpt')">Test</button>
                                    </div>
                                </li>
                                <li class="model-item" data-model="w1" data-provider="morngpt" data-cost="0">
                                    <div class="model-info">
                                        <span class="model-name">Content Generation (W1)</span>
                                        <span class="model-desc">Text, image, audio, and video content creation</span>
                                    </div>
                                    <div class="model-actions">
                                        <span class="cost-badge free-badge">FREE</span>
                                        <button class="test-btn" onclick="testModel('w1', 'morngpt')">Test</button>
                                    </div>
                                </li>
                                <li class="model-item" data-model="d1" data-provider="morngpt" data-cost="0">
                                    <div class="model-info">
                                        <span class="model-name">Content Detection (D1)</span>
                                        <span class="model-desc">AI-generated content detection and analysis</span>
                                    </div>
                                    <div class="model-actions">
                                        <span class="cost-badge free-badge">FREE</span>
                                        <button class="test-btn" onclick="testModel('d1', 'morngpt')">Test</button>
                                    </div>
                                </li>
                                <li class="model-item" data-model="p1" data-provider="morngpt" data-cost="0">
                                    <div class="model-info">
                                        <span class="model-name">Person Search & Matching (P1)</span>
                                        <span class="model-desc">Job matching, life partner, and business connections</span>
                                    </div>
                                    <div class="model-actions">
                                        <span class="cost-badge free-badge">FREE</span>
                                        <button class="test-btn" onclick="testModel('p1', 'morngpt')">Test</button>
                                    </div>
                                </li>
                                <li class="model-item" data-model="b1" data-provider="morngpt" data-cost="0">
                                    <div class="model-info">
                                        <span class="model-name">Interview/Job (B1)</span>
                                        <span class="model-desc">Interview preparation and job search assistance</span>
                                    </div>
                                    <div class="model-actions">
                                        <span class="cost-badge free-badge">FREE</span>
                                        <button class="test-btn" onclick="testModel('b1', 'morngpt')">Test</button>
                                    </div>
                                </li>
                                <li class="model-item" data-model="e1" data-provider="morngpt" data-cost="0">
                                    <div class="model-info">
                                        <span class="model-name">Medical Advice (E1)</span>
                                        <span class="model-desc">Health guidance and medical information</span>
                                    </div>
                                    <div class="model-actions">
                                        <span class="cost-badge free-badge">FREE</span>
                                        <button class="test-btn" onclick="testModel('e1', 'morngpt')">Test</button>
                                    </div>
                                </li>
                                <li class="model-item" data-model="a1" data-provider="morngpt" data-cost="0">
                                    <div class="model-info">
                                        <span class="model-name">Growth Advisory (A1)</span>
                                        <span class="model-desc">Customer and user growth strategies</span>
                                    </div>
                                    <div class="model-actions">
                                        <span class="cost-badge free-badge">FREE</span>
                                        <button class="test-btn" onclick="testModel('a1', 'morngpt')">Test</button>
                                    </div>
                                </li>
                                <li class="model-item" data-model="s1" data-provider="morngpt" data-cost="0">
                                    <div class="model-info">
                                        <span class="model-name">Product Search (S1)</span>
                                        <span class="model-desc">Product recommendations and pricing analysis</span>
                                    </div>
                                    <div class="model-actions">
                                        <span class="cost-badge free-badge">FREE</span>
                                        <button class="test-btn" onclick="testModel('s1', 'morngpt')">Test</button>
                                    </div>
                                </li>
                                <li class="model-item" data-model="u1" data-provider="morngpt" data-cost="0">
                                    <div class="model-info">
                                        <span class="model-name">Restaurant/Food (U1)</span>
                                        <span class="model-desc">Food recommendations and restaurant suggestions</span>
                                    </div>
                                    <div class="model-actions">
                                        <span class="cost-badge free-badge">FREE</span>
                                        <button class="test-btn" onclick="testModel('u1', 'morngpt')">Test</button>
                                    </div>
                                </li>
                                <li class="model-item" data-model="t1" data-provider="morngpt" data-cost="0">
                                    <div class="model-info">
                                        <span class="model-name">Personalized Clothing (T1)</span>
                                        <span class="model-desc">Fashion advice and personalized shopping</span>
                                    </div>
                                    <div class="model-actions">
                                        <span class="cost-badge free-badge">FREE</span>
                                        <button class="test-btn" onclick="testModel('t1', 'morngpt')">Test</button>
                                    </div>
                                </li>
                                <li class="model-item" data-model="o1" data-provider="morngpt" data-cost="0">
                                    <div class="model-info">
                                        <span class="model-name">Personalized Housing (O1)</span>
                                        <span class="model-desc">Real estate and accommodation recommendations</span>
                                    </div>
                                    <div class="model-actions">
                                        <span class="cost-badge free-badge">FREE</span>
                                        <button class="test-btn" onclick="testModel('o1', 'morngpt')">Test</button>
                                    </div>
                                </li>
                                <li class="model-item" data-model="r1" data-provider="morngpt" data-cost="0">
                                    <div class="model-info">
                                        <span class="model-name">Personalized Traveling (R1)</span>
                                        <span class="model-desc">Travel planning and transportation advice</span>
                                    </div>
                                    <div class="model-actions">
                                        <span class="cost-badge free-badge">FREE</span>
                                        <button class="test-btn" onclick="testModel('r1', 'morngpt')">Test</button>
                                    </div>
                                </li>
                                <li class="model-item" data-model="z1" data-provider="morngpt" data-cost="0">
                                    <div class="model-info">
                                        <span class="model-name">Anti-AI Protection (Z1)</span>
                                        <span class="model-desc">AI detection and protection strategies</span>
                                    </div>
                                    <div class="model-actions">
                                        <span class="cost-badge free-badge">FREE</span>
                                        <button class="test-btn" onclick="testModel('z1', 'morngpt')">Test</button>
                                    </div>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- Ultra-Cheap Category -->
                <div id="ultra-cheap" class="category-content">
                    <div class="grid">
                        <div class="card">
                            <h3>💰 Ultra-Cheap Commercial APIs</h3>
                            <ul class="model-list">
                                <li class="model-item" data-model="gemini-1.5-flash" data-provider="google" data-cost="0.000075">
                                    <div class="model-info">
                                        <span class="model-name">Gemini 1.5 Flash</span>
                                        <span class="model-desc">Google's fastest and cheapest model</span>
                                    </div>
                                    <div class="model-actions">
                                        <span class="cost-badge">$0.000075/1K</span>
                                        <button class="test-btn" onclick="testModel('gemini-1.5-flash', 'google')">Test</button>
                                    </div>
                                </li>
                                <li class="model-item" data-model="claude-3-5-haiku-20241022" data-provider="anthropic" data-cost="0.00025">
                                    <div class="model-info">
                                        <span class="model-name">Claude 3.5 Haiku</span>
                                        <span class="model-desc">Anthropic's fastest Claude model</span>
                                    </div>
                                    <div class="model-actions">
                                        <span class="cost-badge">$0.00025/1K</span>
                                        <button class="test-btn" onclick="testModel('claude-3-5-haiku-20241022', 'anthropic')">Test</button>
                                    </div>
                                </li>
                                <li class="model-item" data-model="command-r" data-provider="cohere" data-cost="0.0005">
                                    <div class="model-info">
                                        <span class="model-name">Cohere Command R</span>
                                        <span class="model-desc">Cohere's efficient command model</span>
                                    </div>
                                    <div class="model-actions">
                                        <span class="cost-badge">$0.0005/1K</span>
                                        <button class="test-btn" onclick="testModel('command-r', 'cohere')">Test</button>
                                    </div>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- Cheap Category -->
                <div id="cheap" class="category-content">
                    <div class="grid">
                        <div class="card">
                            <h3>💸 Cheap Commercial APIs</h3>
                            <ul class="model-list">
                                <li class="model-item" data-model="mistral-medium" data-provider="mistral" data-cost="0.0024">
                                    <div class="model-info">
                                        <span class="model-name">Mistral Medium</span>
                                        <span class="model-desc">Mistral's balanced performance model</span>
                                    </div>
                                    <div class="model-actions">
                                        <span class="cost-badge">$0.0024/1K</span>
                                        <button class="test-btn" onclick="testModel('mistral-medium', 'mistral')">Test</button>
                                    </div>
                                </li>
                                <li class="model-item" data-model="gpt-3.5-turbo" data-provider="openai" data-cost="0.0005">
                                    <div class="model-info">
                                        <span class="model-name">GPT-3.5 Turbo</span>
                                        <span class="model-desc">OpenAI's reliable workhorse</span>
                                    </div>
                                    <div class="model-actions">
                                        <span class="cost-badge">$0.0005/1K</span>
                                        <button class="test-btn" onclick="testModel('gpt-3.5-turbo', 'openai')">Test</button>
                                    </div>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- Popular Category -->
                <div id="popular" class="category-content">
                    <div class="grid">
                        <div class="card">
                            <h3>⭐ Most Popular Models</h3>
                            <ul class="model-list">
                                <li class="model-item" data-model="ollama/llama3.1:8b" data-provider="ollama" data-cost="0">
                                    <div class="model-info">
                                        <span class="model-name">Llama 3.1 (8B) - FREE</span>
                                        <span class="model-desc">Most popular free local model</span>
                                    </div>
                                    <div class="model-actions">
                                        <span class="cost-badge free-badge">FREE</span>
                                        <button class="test-btn" onclick="testModel('ollama/llama3.1:8b', 'ollama')">Test</button>
                                    </div>
                                </li>
                                <li class="model-item" data-model="gemini-1.5-flash" data-provider="google" data-cost="0.000075">
                                    <div class="model-info">
                                        <span class="model-name">Gemini 1.5 Flash - CHEAPEST</span>
                                        <span class="model-desc">World's cheapest commercial API</span>
                                    </div>
                                    <div class="model-actions">
                                        <span class="cost-badge">$0.000075/1K</span>
                                        <button class="test-btn" onclick="testModel('gemini-1.5-flash', 'google')">Test</button>
                                    </div>
                                </li>
                                <li class="model-item" data-model="claude-3-5-haiku-20241022" data-provider="anthropic" data-cost="0.00025">
                                    <div class="model-info">
                                        <span class="model-name">Claude 3.5 Haiku - BEST VALUE</span>
                                        <span class="model-desc">Best quality-to-cost ratio</span>
                                    </div>
                                    <div class="model-actions">
                                        <span class="cost-badge">$0.00025/1K</span>
                                        <button class="test-btn" onclick="testModel('claude-3-5-haiku-20241022', 'anthropic')">Test</button>
                                    </div>
                                </li>
                                <li class="model-item" data-model="gpt-3.5-turbo" data-provider="openai" data-cost="0.0005">
                                    <div class="model-info">
                                        <span class="model-name">GPT-3.5 Turbo - RELIABLE</span>
                                        <span class="model-desc">Most reliable commercial API</span>
                                    </div>
                                    <div class="model-actions">
                                        <span class="cost-badge">$0.0005/1K</span>
                                        <button class="test-btn" onclick="testModel('gpt-3.5-turbo', 'openai')">Test</button>
                                    </div>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- All Models Category -->
                <div id="all" class="category-content">
                    <div class="model-stats">
                        <div class="stat-card">
                            <h4>Total Models</h4>
                            <span class="stat-number">12</span>
                        </div>
                        <div class="stat-card">
                            <h4>Free Models</h4>
                            <span class="stat-number">7</span>
                        </div>
                        <div class="stat-card">
                            <h4>Paid Models</h4>
                            <span class="stat-number">5</span>
                        </div>
                        <div class="stat-card">
                            <h4>Providers</h4>
                            <span class="stat-number">6</span>
                        </div>
                    </div>
                    
                    <div class="all-models-grid">
                        <div class="model-card" data-model="ollama/llama3.1:8b" data-provider="ollama" data-cost="0">
                            <div class="model-header">
                                <h4>Llama 3.1 (8B)</h4>
                                <span class="cost-badge free-badge">FREE</span>
                            </div>
                            <p>Meta's latest open model</p>
                            <div class="model-meta">
                                <span>Provider: Ollama</span>
                                <span>Type: Local</span>
                            </div>
                            <button class="test-btn" onclick="testModel('ollama/llama3.1:8b', 'ollama')">Test Model</button>
                        </div>
                        
                        <div class="model-card" data-model="ollama/mistral:7b" data-provider="ollama" data-cost="0">
                            <div class="model-header">
                                <h4>Mistral 7B</h4>
                                <span class="cost-badge free-badge">FREE</span>
                            </div>
                            <p>Fast and efficient 7B model</p>
                            <div class="model-meta">
                                <span>Provider: Ollama</span>
                                <span>Type: Local</span>
                            </div>
                            <button class="test-btn" onclick="testModel('ollama/mistral:7b', 'ollama')">Test Model</button>
                        </div>
                        
                        <div class="model-card" data-model="ollama/codellama:7b" data-provider="ollama" data-cost="0">
                            <div class="model-header">
                                <h4>CodeLlama 7B</h4>
                                <span class="cost-badge free-badge">FREE</span>
                            </div>
                            <p>Specialized for code generation</p>
                            <div class="model-meta">
                                <span>Provider: Ollama</span>
                                <span>Type: Local</span>
                            </div>
                            <button class="test-btn" onclick="testModel('ollama/codellama:7b', 'ollama')">Test Model</button>
                        </div>
                        
                        <div class="model-card" data-model="ollama/phi3:mini" data-provider="ollama" data-cost="0">
                            <div class="model-header">
                                <h4>Phi-3 Mini</h4>
                                <span class="cost-badge free-badge">FREE</span>
                            </div>
                            <p>Microsoft's efficient 3.8B model</p>
                            <div class="model-meta">
                                <span>Provider: Ollama</span>
                                <span>Type: Local</span>
                            </div>
                            <button class="test-btn" onclick="testModel('ollama/phi3:mini', 'ollama')">Test Model</button>
                        </div>
                        
                        <div class="model-card" data-model="mistralai/Mistral-7B-Instruct-v0.2" data-provider="huggingface" data-cost="0">
                            <div class="model-header">
                                <h4>Mistral 7B Instruct</h4>
                                <span class="cost-badge free-badge">FREE</span>
                            </div>
                            <p>Instruction-tuned Mistral model</p>
                            <div class="model-meta">
                                <span>Provider: Hugging Face</span>
                                <span>Type: API</span>
                            </div>
                            <button class="test-btn" onclick="testModel('mistralai/Mistral-7B-Instruct-v0.2', 'huggingface')">Test Model</button>
                        </div>
                        
                        <div class="model-card" data-model="meta-llama/Llama-2-7b-chat-hf" data-provider="huggingface" data-cost="0">
                            <div class="model-header">
                                <h4>Llama 2 7B Chat</h4>
                                <span class="cost-badge free-badge">FREE</span>
                            </div>
                            <p>Chat-optimized Llama 2 model</p>
                            <div class="model-meta">
                                <span>Provider: Hugging Face</span>
                                <span>Type: API</span>
                            </div>
                            <button class="test-btn" onclick="testModel('meta-llama/Llama-2-7b-chat-hf', 'huggingface')">Test Model</button>
                        </div>
                        
                        <div class="model-card" data-model="Salesforce/codegen-350M-mono" data-provider="huggingface" data-cost="0">
                            <div class="model-header">
                                <h4>CodeGen 350M</h4>
                                <span class="cost-badge free-badge">FREE</span>
                            </div>
                            <p>Lightweight code generation</p>
                            <div class="model-meta">
                                <span>Provider: Hugging Face</span>
                                <span>Type: API</span>
                            </div>
                            <button class="test-btn" onclick="testModel('Salesforce/codegen-350M-mono', 'huggingface')">Test Model</button>
                        </div>
                        
                        <div class="model-card" data-model="gemini-1.5-flash" data-provider="google" data-cost="0.000075">
                            <div class="model-header">
                                <h4>Gemini 1.5 Flash</h4>
                                <span class="cost-badge">$0.000075/1K</span>
                            </div>
                            <p>Google's fastest and cheapest model</p>
                            <div class="model-meta">
                                <span>Provider: Google</span>
                                <span>Type: API</span>
                            </div>
                            <button class="test-btn" onclick="testModel('gemini-1.5-flash', 'google')">Test Model</button>
                        </div>
                        
                        <div class="model-card" data-model="claude-3-5-haiku-20241022" data-provider="anthropic" data-cost="0.00025">
                            <div class="model-header">
                                <h4>Claude 3.5 Haiku</h4>
                                <span class="cost-badge">$0.00025/1K</span>
                            </div>
                            <p>Anthropic's fastest Claude model</p>
                            <div class="model-meta">
                                <span>Provider: Anthropic</span>
                                <span>Type: API</span>
                            </div>
                            <button class="test-btn" onclick="testModel('claude-3-5-haiku-20241022', 'anthropic')">Test Model</button>
                        </div>
                        
                        <div class="model-card" data-model="command-r" data-provider="cohere" data-cost="0.0005">
                            <div class="model-header">
                                <h4>Cohere Command R</h4>
                                <span class="cost-badge">$0.0005/1K</span>
                            </div>
                            <p>Cohere's efficient command model</p>
                            <div class="model-meta">
                                <span>Provider: Cohere</span>
                                <span>Type: API</span>
                            </div>
                            <button class="test-btn" onclick="testModel('command-r', 'cohere')">Test Model</button>
                        </div>
                        
                        <div class="model-card" data-model="mistral-medium" data-provider="mistral" data-cost="0.0024">
                            <div class="model-header">
                                <h4>Mistral Medium</h4>
                                <span class="cost-badge">$0.0024/1K</span>
                            </div>
                            <p>Mistral's balanced performance model</p>
                            <div class="model-meta">
                                <span>Provider: Mistral</span>
                                <span>Type: API</span>
                            </div>
                            <button class="test-btn" onclick="testModel('mistral-medium', 'mistral')">Test Model</button>
                        </div>
                        
                        <div class="model-card" data-model="gpt-3.5-turbo" data-provider="openai" data-cost="0.0005">
                            <div class="model-header">
                                <h4>GPT-3.5 Turbo</h4>
                                <span class="cost-badge">$0.0005/1K</span>
                            </div>
                            <p>OpenAI's reliable workhorse</p>
                            <div class="model-meta">
                                <span>Provider: OpenAI</span>
                                <span>Type: API</span>
                            </div>
                            <button class="test-btn" onclick="testModel('gpt-3.5-turbo', 'openai')">Test Model</button>
                        </div>
                    </div>
                </div>
                
                <!-- Model Actions -->
                <div class="model-actions-bar" style="margin: 30px 0; padding: 20px; background: #f8f9fa; border-radius: 12px;">
                    <h3>Model Testing Tools</h3>
                    <div style="display: flex; gap: 15px; flex-wrap: wrap; margin-top: 15px;">
                        <button class="btn" onclick="quickTest()">🚀 Quick Test</button>
                        <button class="btn" onclick="testAllModels('free')">🧪 Test All Free Models</button>
                        <button class="btn" onclick="testAllModels('ultra-cheap')">🧪 Test All Ultra-Cheap Models</button>
                        <button class="btn" onclick="testAllModels('cheap')">🧪 Test All Cheap Models</button>
                        <button class="btn" onclick="testAllModels('popular')">🧪 Test All Popular Models</button>
                        <button class="btn" onclick="clearTestResults()" style="background: #dc3545;">🗑️ Clear Results</button>
                    </div>
                </div>

                <!-- Model Test Results -->
                <div id="testResults" class="test-results" style="display: none;">
                    <h3>Model Test Results</h3>
                    <div id="testResultsContent"></div>
                </div>
                
                <div class="success" style="margin-top: 30px;">
                    <strong>💡 Cost Savings:</strong> Using these models can save you 90-95% compared to GPT-4!
                </div>
            </div>
        </div>
    </div>

    <script>
        const API_BASE = 'http://localhost:8000/api/v1';
        
        // Tab switching with smooth animations
        function switchTab(tabName) {
            // Hide all tab contents with fade out
            document.querySelectorAll('.tab-content').forEach(content => {
                content.style.opacity = '0';
                content.style.transform = 'translateY(10px)';
                setTimeout(() => {
                    content.classList.remove('active');
                }, 150);
            });
            
            // Remove active class from all tabs
            document.querySelectorAll('.tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Add active class to clicked tab
            event.target.classList.add('active');
            
            // Show selected tab content with fade in
            setTimeout(() => {
                const selectedContent = document.getElementById(tabName);
                selectedContent.classList.add('active');
                selectedContent.style.opacity = '1';
                selectedContent.style.transform = 'translateY(0)';
            }, 150);
        }

        // Add smooth transitions to tab content
        document.addEventListener('DOMContentLoaded', function() {
            document.querySelectorAll('.tab-content').forEach(content => {
                content.style.transition = 'all 0.3s cubic-bezier(0.4, 0, 0.2, 1)';
            });
        });
        
        // Auto-configure parameters based on mornGPT module selection
        function configureModule() {
            const module = document.getElementById('moduleSelect').value;
            const submodule = parseInt(document.getElementById('submoduleSelect').value);
            
            if (!module || !submodule) return;
            
            // Configuration based on module and submodule
            const config = getModuleConfig(module, submodule);
            
            // Update parameters
            document.getElementById('morngptMaxTokens').value = config.maxTokens;
            document.getElementById('morngptTemperature').value = config.temperature;
            document.getElementById('morngptTempValue').textContent = config.temperature;
            
            // Update info card
            updateConfigInfo(config);
        }
        
        // Get configuration for specific module and submodule
        function getModuleConfig(module, submodule) {
            const baseConfigs = {
                'h': { // Multi-GPT Prompts
                    name: 'Multi-GPT Prompts',
                    baseTokens: 800,
                    baseTemp: 0.7,
                    model: 'ollama/llama3.1:8b'
                },
                'q': { // AI Teacher/Coach
                    name: 'AI Teacher/Coach',
                    baseTokens: 1200,
                    baseTemp: 0.6,
                    model: 'ollama/mistral:7b'
                },
                'c': { // AI Coder
                    name: 'AI Coder',
                    baseTokens: 1500,
                    baseTemp: 0.3,
                    model: 'ollama/codellama:7b'
                },
                'w': { // Content Generation
                    name: 'Content Generation',
                    baseTokens: 1000,
                    baseTemp: 0.8,
                    model: 'gemini-1.5-flash'
                },
                'd': { // Content Detection
                    name: 'Content Detection',
                    baseTokens: 600,
                    baseTemp: 0.2,
                    model: 'claude-3-5-haiku-20241022'
                },
                'p': { // Person Search & Matching
                    name: 'Person Search & Matching',
                    baseTokens: 900,
                    baseTemp: 0.5,
                    model: 'ollama/llama3.1:8b'
                },
                'b': { // Interview/Job
                    name: 'Interview/Job',
                    baseTokens: 1100,
                    baseTemp: 0.6,
                    model: 'ollama/mistral:7b'
                },
                'e': { // Medical Advice
                    name: 'Medical Advice',
                    baseTokens: 800,
                    baseTemp: 0.4,
                    model: 'claude-3-5-haiku-20241022'
                },
                'a': { // Growth Advisory
                    name: 'Growth Advisory',
                    baseTokens: 1300,
                    baseTemp: 0.7,
                    model: 'gemini-1.5-flash'
                },
                's': { // Product Search
                    name: 'Product Search',
                    baseTokens: 700,
                    baseTemp: 0.5,
                    model: 'ollama/llama3.1:8b'
                },
                'u': { // Restaurant/Food
                    name: 'Restaurant/Food',
                    baseTokens: 600,
                    baseTemp: 0.6,
                    model: 'ollama/mistral:7b'
                },
                't': { // Personalized Clothing
                    name: 'Personalized Clothing',
                    baseTokens: 800,
                    baseTemp: 0.7,
                    model: 'ollama/llama3.1:8b'
                },
                'o': { // Personalized Housing
                    name: 'Personalized Housing',
                    baseTokens: 1000,
                    baseTemp: 0.5,
                    model: 'ollama/mistral:7b'
                },
                'r': { // Personalized Traveling
                    name: 'Personalized Traveling',
                    baseTokens: 1200,
                    baseTemp: 0.6,
                    model: 'ollama/llama3.1:8b'
                },
                'z': { // Anti-AI Protection
                    name: 'Anti-AI Protection',
                    baseTokens: 500,
                    baseTemp: 0.3,
                    model: 'ollama/phi3:mini'
                }
            };
            
            const baseConfig = baseConfigs[module];
            if (!baseConfig) return { maxTokens: 1000, temperature: 0.7, model: 'ollama/llama3.1:8b' };
            
            // Scale tokens and temperature based on submodule (1-9)
            const tokenMultiplier = 0.5 + (submodule * 0.1); // 0.6 to 1.4
            const tempAdjustment = (submodule - 5) * 0.05; // -0.2 to +0.2
            
            return {
                maxTokens: Math.round(baseConfig.baseTokens * tokenMultiplier),
                temperature: Math.max(0.1, Math.min(1.0, baseConfig.baseTemp + tempAdjustment)),
                model: baseConfig.model,
                name: baseConfig.name,
                submodule: submodule
            };
        }
        
        // Update configuration info display
        function updateConfigInfo(config) {
            const infoCard = document.querySelector('.info-card');
            if (infoCard) {
                infoCard.innerHTML = `
                    <h4>🤖 Auto-Configuration: ${config.name} (${config.submodule})</h4>
                    <p><strong>Model:</strong> ${config.model}</p>
                    <p><strong>Tokens:</strong> ${config.maxTokens} (optimized for ${config.name.toLowerCase()})</p>
                    <p><strong>Temperature:</strong> ${config.temperature} (${config.temperature < 0.4 ? 'Precise' : config.temperature < 0.7 ? 'Balanced' : 'Creative'})</p>
                `;
            }
        }
        
        // Add event listeners for auto-configuration
        document.getElementById('moduleSelect').addEventListener('change', configureModule);
        document.getElementById('submoduleSelect').addEventListener('change', configureModule);
        
        // Chat interface functions
        let uploadedFile = null;
        
        function autoResize(textarea) {
            textarea.style.height = 'auto';
            textarea.style.height = Math.min(textarea.scrollHeight, 120) + 'px';
        }
        
        function handleFileUpload(input) {
            const file = input.files[0];
            if (!file) return;
            
            // Check file size (max 10MB)
            if (file.size > 10 * 1024 * 1024) {
                alert('File size must be less than 10MB');
                return;
            }
            
            uploadedFile = file;
            showFilePreview(file);
        }
        
        function showFilePreview(file) {
            const container = document.querySelector('.chat-input-container');
            
            // Remove existing preview
            const existingPreview = container.querySelector('.file-preview');
            if (existingPreview) {
                existingPreview.remove();
            }
            
            const preview = document.createElement('div');
            preview.className = 'file-preview';
            
            const isImage = file.type.startsWith('image/');
            const fileSize = (file.size / 1024).toFixed(1) + ' KB';
            
            preview.innerHTML = `
                ${isImage ? `<img src="${URL.createObjectURL(file)}" alt="Preview">` : ''}
                <div class="file-info">
                    <div class="file-name">${file.name}</div>
                    <div class="file-size">${fileSize}</div>
                </div>
                <button class="remove-file" onclick="removeFile()">×</button>
            `;
            
            container.insertBefore(preview, container.querySelector('form'));
        }
        
        function removeFile() {
            uploadedFile = null;
            document.getElementById('fileInput').value = '';
            const preview = document.querySelector('.file-preview');
            if (preview) {
                preview.remove();
            }
        }
        
        function addMessage(content, isUser = false) {
            const chatMessages = document.getElementById('chatMessages');
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${isUser ? 'user' : 'assistant'}`;
            
            messageDiv.innerHTML = `
                <div class="message-content">
                    <p>${content}</p>
                </div>
            `;
            
            chatMessages.appendChild(messageDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }
        
        function updateModelInfo() {
            const selected = document.getElementById('combinedSelect').value;
            const isMornGPT = selected.length === 2 && /^[a-z]\d$/.test(selected);
            
            if (isMornGPT) {
                const module = selected[0];
                const submodule = parseInt(selected[1]);
                const config = getModuleConfig(module, submodule);
                addMessage(`Switched to ${config.name} (${submodule}) - ${config.model}`, false);
            } else {
                addMessage(`Switched to ${selected}`, false);
            }
        }
        
        // Chat form submission
        document.getElementById('chatForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            const input = document.getElementById('chatInput');
            const message = input.value.trim();
            
            if (!message && !uploadedFile) return;
            
            // Add user message
            let userMessage = message;
            if (uploadedFile) {
                userMessage += `\n[Uploaded file: ${uploadedFile.name}]`;
            }
            addMessage(userMessage, true);
            
            // Clear input and file
            input.value = '';
            input.style.height = 'auto';
            if (uploadedFile) {
                removeFile();
            }
            
            // Get selected model/module
            const selected = document.getElementById('combinedSelect').value;
            const isMornGPT = selected.length === 2 && /^[a-z]\d$/.test(selected);
            
            let requestBody = {
                prompt: message,
                max_tokens: 1000,
                temperature: 0.7
            };
            
            if (isMornGPT) {
                // mornGPT module
                const module = selected[0];
                const submodule = parseInt(selected[1]);
                const config = getModuleConfig(module, submodule);
                
                requestBody.prompt = `[${module.toUpperCase()}${submodule}] ${message}`;
                requestBody.model = config.model;
                requestBody.module = module;
                requestBody.submodule = submodule;
                requestBody.max_tokens = config.maxTokens;
                requestBody.temperature = config.temperature;
            } else {
                // Direct model
                requestBody.model = selected;
            }
            
            // Show modern typing indicator
            const typingDiv = document.createElement('div');
            typingDiv.className = 'message assistant';
            typingDiv.innerHTML = `
                <div class="message-content">
                    <div style="display: flex; align-items: center; gap: 8px;">
                        <div class="loading-dots">
                            <span></span>
                            <span></span>
                            <span></span>
                        </div>
                        <span style="color: #666; font-size: 14px;">AI is thinking...</span>
                    </div>
                </div>
            `;
            document.getElementById('chatMessages').appendChild(typingDiv);
            
            try {
                const response = await fetch(`${API_BASE}/generate`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(requestBody)
                });
                
                const data = await response.json();
                
                // Remove typing indicator
                typingDiv.remove();
                
                if (response.ok) {
                    addMessage(data.content, false);
                } else {
                    addMessage(`Error: ${data.detail || 'Generation failed'}`, false);
                }
            } catch (error) {
                typingDiv.remove();
                addMessage(`Network error: ${error.message}`, false);
            }
        });
        

        
        function showLoading(containerId) {
            const container = document.getElementById(containerId);
            container.style.display = 'block';
            container.innerHTML = `
                <div class="loading">
                    <div class="spinner"></div>
                    <p>Processing your request...</p>
                </div>
            `;
        }
        
        function showResponse(containerId, data) {
            const container = document.getElementById(containerId);
            const content = containerId === 'generateResponse' ? data.content :
                           containerId === 'orchestrateResponse' ? data.orchestrated_prompt :
                           containerId === 'chainResponse' ? data.chained_prompts.join('\n\n---\n\n') :
                           `Original: ${data.original_prompt}\n\nOptimized: ${data.optimized_prompt}`;
            
            container.innerHTML = `
                <div class="response-header">
                    <h3>Response</h3>
                    <div class="response-stats">
                        <span>Success</span>
                    </div>
                </div>
                <div class="response-content">${content}</div>
            `;
        }
        
        function showError(containerId, message) {
            const container = document.getElementById(containerId);
            container.innerHTML = `
                <div class="error">
                    <strong>Error:</strong> ${message}
                </div>
            `;
        }

        // Model category switching with smooth animations
        function switchCategory(categoryName) {
            // Hide all category contents with fade out
            document.querySelectorAll('.category-content').forEach(content => {
                content.style.opacity = '0';
                content.style.transform = 'translateY(10px)';
                setTimeout(() => {
                    content.classList.remove('active');
                }, 150);
            });
            
            // Remove active class from all category tabs
            document.querySelectorAll('.category-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Add active class to clicked tab
            event.target.classList.add('active');
            
            // Show selected category content with fade in
            setTimeout(() => {
                const selectedContent = document.getElementById(categoryName);
                if (selectedContent) {
                    selectedContent.classList.add('active');
                    selectedContent.style.opacity = '1';
                    selectedContent.style.transform = 'translateY(0)';
                }
            }, 150);
        }

        // Initialize category content on page load
        document.addEventListener('DOMContentLoaded', function() {
            // Ensure the default category (Free APIs) is visible
            const defaultCategory = document.getElementById('free');
            if (defaultCategory) {
                defaultCategory.classList.add('active');
                defaultCategory.style.opacity = '1';
                defaultCategory.style.transform = 'translateY(0)';
                defaultCategory.style.display = 'block';
            }
            
            // Add smooth transitions to category content
            document.querySelectorAll('.category-content').forEach(content => {
                content.style.transition = 'all 0.3s cubic-bezier(0.4, 0, 0.2, 1)';
            });
            
            // Fallback: If no content is visible, show the first category
            setTimeout(() => {
                const visibleContent = document.querySelector('.category-content.active');
                if (!visibleContent || visibleContent.style.display === 'none') {
                    const firstCategory = document.querySelector('.category-content');
                    if (firstCategory) {
                        firstCategory.classList.add('active');
                        firstCategory.style.opacity = '1';
                        firstCategory.style.transform = 'translateY(0)';
                        firstCategory.style.display = 'block';
                    }
                }
            }, 100);
        });

        // Test individual model
        async function testModel(modelName, provider) {
            let testPrompt = "Write a simple Python function to calculate the factorial of a number.";
            let requestBody = {
                prompt: testPrompt,
                budget: 'free_local',
                max_tokens: 300,
                temperature: 0.7
            };
            
            // Handle mornGPT modules
            if (provider === 'morngpt') {
                const moduleConfig = getModuleConfig(modelName[0], parseInt(modelName[1]));
                testPrompt = `Test the ${moduleConfig.name} module with a sample request.`;
                requestBody = {
                    prompt: `[${modelName.toUpperCase()}] ${testPrompt}`,
                    model: moduleConfig.model,
                    budget: 'auto',
                    max_tokens: moduleConfig.maxTokens,
                    temperature: moduleConfig.temperature,
                    module: modelName[0],
                    submodule: parseInt(modelName[1])
                };
            } else {
                // Determine budget based on provider for regular models
                if (provider === 'google' || provider === 'anthropic') {
                    requestBody.budget = 'ultra_cheap';
                } else if (provider === 'openai' || provider === 'mistral') {
                    requestBody.budget = 'cheap';
                }
                requestBody.model = modelName;
            }
            
            // Show test results section
            const testResults = document.getElementById('testResults');
            testResults.style.display = 'block';
            
            // Add test result item
            const testResultsContent = document.getElementById('testResultsContent');
            const resultId = `test-${Date.now()}`;
            
            const displayName = provider === 'morngpt' ? 
                `${getModuleConfig(modelName[0], parseInt(modelName[1])).name} (${modelName.toUpperCase()})` : 
                modelName;
            
            testResultsContent.innerHTML += `
                <div id="${resultId}" class="test-result-item">
                    <div class="test-result-header">
                        <span class="test-result-model">${displayName}</span>
                        <span class="test-result-status">Testing...</span>
                    </div>
                    <div class="test-result-content">Initializing test...</div>
                    <div class="test-result-meta">
                        <span>Provider: ${provider === 'morngpt' ? 'mornGPT' : provider}</span>
                        <span>Cost: Calculating...</span>
                        <span>Time: Measuring...</span>
                    </div>
                </div>
            `;
            
            const resultElement = document.getElementById(resultId);
            const statusElement = resultElement.querySelector('.test-result-status');
            const contentElement = resultElement.querySelector('.test-result-content');
            const metaElement = resultElement.querySelector('.test-result-meta');
            
            try {
                const startTime = Date.now();
                
                const response = await fetch(`${API_BASE}/generate`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(requestBody)
                });
                
                const data = await response.json();
                const endTime = Date.now();
                const responseTime = (endTime - startTime) / 1000;
                
                if (response.ok && data.success) {
                    statusElement.textContent = 'Success';
                    statusElement.className = 'test-result-status success';
                    contentElement.textContent = data.content;
                    metaElement.innerHTML = `
                        <span>Provider: ${data.provider}</span>
                        <span>Cost: $${data.cost.toFixed(6)}</span>
                        <span>Time: ${responseTime.toFixed(2)}s</span>
                        <span>Tokens: ${data.tokens_used}</span>
                    `;
                } else {
                    statusElement.textContent = 'Error';
                    statusElement.className = 'test-result-status error';
                    contentElement.textContent = data.error || 'Test failed';
                    metaElement.innerHTML = `
                        <span>Provider: ${provider === 'morngpt' ? 'mornGPT' : provider}</span>
                        <span>Error: ${data.error || 'Unknown error'}</span>
                        <span>Time: ${responseTime.toFixed(2)}s</span>
                    `;
                }
            } catch (error) {
                statusElement.textContent = 'Error';
                statusElement.className = 'test-result-status error';
                contentElement.textContent = `Network error: ${error.message}`;
                metaElement.innerHTML = `
                    <span>Provider: ${provider === 'morngpt' ? 'mornGPT' : provider}</span>
                    <span>Error: Network error</span>
                    <span>Time: N/A</span>
                `;
            }
        }
        


        // Test all models in a category
        async function testAllModels(category) {
            const models = [];
            
            // Get all models in the current category
            const categoryElement = document.getElementById(category);
            if (categoryElement) {
                const modelItems = categoryElement.querySelectorAll('.model-item, .model-card');
                modelItems.forEach(item => {
                    const modelName = item.dataset.model;
                    const provider = item.dataset.provider;
                    if (modelName && provider) {
                        models.push({ model: modelName, provider: provider });
                    }
                });
            }
            
            if (models.length === 0) {
                alert('No models found in this category');
                return;
            }
            
            // Confirm test
            const confirmTest = confirm(`Test all ${models.length} models in this category? This may take a few minutes.`);
            if (!confirmTest) return;
            
            // Show test results
            const testResults = document.getElementById('testResults');
            testResults.style.display = 'block';
            
            // Test each model sequentially
            for (let i = 0; i < models.length; i++) {
                const { model, provider } = models[i];
                await testModel(model, provider);
                
                // Small delay between tests
                if (i < models.length - 1) {
                    await new Promise(resolve => setTimeout(resolve, 1000));
                }
            }
        }

        // Quick test with custom prompt
        async function quickTest() {
            const prompt = prompt('Enter a test prompt:', 'Write a Python function to calculate fibonacci numbers');
            if (!prompt) return;
            
            const model = prompt('Enter model name (or leave empty for auto-select):', 'ollama/llama3.1:8b');
            const budget = prompt('Enter budget tier (free_local, ultra_cheap, cheap):', 'free_local');
            
            // Show test results
            const testResults = document.getElementById('testResults');
            testResults.style.display = 'block';
            
            const testResultsContent = document.getElementById('testResultsContent');
            const resultId = `quick-test-${Date.now()}`;
            
            testResultsContent.innerHTML += `
                <div id="${resultId}" class="test-result-item">
                    <div class="test-result-header">
                        <span class="test-result-model">Quick Test: ${model || 'Auto-select'}</span>
                        <span class="test-result-status">Testing...</span>
                    </div>
                    <div class="test-result-content">Initializing test...</div>
                    <div class="test-result-meta">
                        <span>Prompt: ${prompt.substring(0, 50)}...</span>
                        <span>Budget: ${budget}</span>
                        <span>Time: Measuring...</span>
                    </div>
                </div>
            `;
            
            const resultElement = document.getElementById(resultId);
            const statusElement = resultElement.querySelector('.test-result-status');
            const contentElement = resultElement.querySelector('.test-result-content');
            const metaElement = resultElement.querySelector('.test-result-meta');
            
            try {
                const startTime = Date.now();
                
                const response = await fetch(`${API_BASE}/generate`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        prompt: prompt,
                        model: model || null,
                        budget: budget,
                        max_tokens: 500,
                        temperature: 0.7
                    })
                });
                
                const data = await response.json();
                const endTime = Date.now();
                const responseTime = (endTime - startTime) / 1000;
                
                if (response.ok && data.success) {
                    statusElement.textContent = 'Success';
                    statusElement.className = 'test-result-status success';
                    contentElement.textContent = data.content;
                    metaElement.innerHTML = `
                        <span>Provider: ${data.provider}</span>
                        <span>Cost: $${data.cost.toFixed(6)}</span>
                        <span>Time: ${responseTime.toFixed(2)}s</span>
                        <span>Tokens: ${data.tokens_used}</span>
                    `;
                } else {
                    statusElement.textContent = 'Error';
                    statusElement.className = 'test-result-status error';
                    contentElement.textContent = data.error || 'Test failed';
                    metaElement.innerHTML = `
                        <span>Error: ${data.error || 'Unknown error'}</span>
                        <span>Time: ${responseTime.toFixed(2)}s</span>
                    `;
                }
            } catch (error) {
                statusElement.textContent = 'Error';
                statusElement.className = 'test-result-status error';
                contentElement.textContent = `Network error: ${error.message}`;
                metaElement.innerHTML = `
                    <span>Error: Network error</span>
                    <span>Time: N/A</span>
                `;
            }
        }

        // Clear test results
        function clearTestResults() {
            const testResultsContent = document.getElementById('testResultsContent');
            testResultsContent.innerHTML = '';
            document.getElementById('testResults').style.display = 'none';
        }
    </script>
</body>
</html> 